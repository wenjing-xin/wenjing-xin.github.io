<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>如何编写Restful风格的接口</title>
    <url>/2023/03/12/RESTFUL%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<h1 id="一、Restful风格接口"><a href="#一、Restful风格接口" class="headerlink" title="一、Restful风格接口"></a>一、Restful风格接口</h1><p>Restful 风格的API是一种软件架构风格，设计风格而不是标准，只是提供了一组设计原则和约束条件。它主要用于客户端和服务器交互类的软件。基于这个风格设计的软件可以更简洁，更有层次，更易于实现缓存等机制。</p>
<p>在Restful风格中，用同一个请求接口（URL）而用不同的请求方式，这就避免了编写多个不同的URL，通过请求的方式也更容易区分出每个方法的功能。</p>
<p>客户端使用GET、POST、PUT、DELETE 4个表示操作方式的动词对服务端资源进行操作：</p>
<blockquote>
<ul>
<li>GET用来获取资源，</li>
<li>POST用来新建资源（也可以用于更新资源），</li>
<li>PUT用来更新资源，</li>
<li>DELETE用来删除资源</li>
</ul>
</blockquote>
<h1 id="二、RESTful-风格接口注意事项："><a href="#二、RESTful-风格接口注意事项：" class="headerlink" title="二、RESTful 风格接口注意事项："></a>二、RESTful 风格接口注意事项：</h1><h2 id="2-1、RESTful接口URL命名原则"><a href="#2-1、RESTful接口URL命名原则" class="headerlink" title="2.1、RESTful接口URL命名原则"></a>2.1、RESTful接口URL命名原则</h2><ul>
<li>命名原则1：HTTP方法后跟的URL必须是名词且统一成名词复数形式</li>
<li>命名原则2：URL中不采用大小写混合的驼峰命名，尽量采用全小写单词，如果需要连接多个单词，则采用〞-”连接</li>
<li>示例：&#x2F;users、 &#x2F;users-fans；反例：&#x2F;getUsers、 &#x2F;getUsersFans</li>
</ul>
<h2 id="2-2、RESTful接口URL分级原则"><a href="#2-2、RESTful接口URL分级原则" class="headerlink" title="2.2、RESTful接口URL分级原则"></a>2.2、RESTful接口URL分级原则</h2><ul>
<li>分级原则1：一级用来定位资源分类，如&#x2F;users即表示需要定位到用户相关资源</li>
<li>分级原则2：二级仍用来定位具体某个资源，如&#x2F;users&#x2F;20即表示id为20的用户，再如&#x2F;users&#x2F;20&#x2F;fans&#x2F;1即表示id为20的用户的id为1的粉丝</li>
<li>一条小建议：原则是为了让我们的开发更加规范，但是不能成为束缚我们开发的枷锁！</li>
</ul>
<h2 id="2-3、复杂-get-请求接口命名示例："><a href="#2-3、复杂-get-请求接口命名示例：" class="headerlink" title="2.3、复杂 get 请求接口命名示例："></a>2.3、复杂 get 请求接口命名示例：</h2><p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401180915334.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401180915334.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<h1 id="三、接口的编写"><a href="#三、接口的编写" class="headerlink" title="三、接口的编写"></a>三、接口的编写</h1><h2 id="3-1、get-方式的请求参数详解："><a href="#3-1、get-方式的请求参数详解：" class="headerlink" title="3.1、get 方式的请求参数详解："></a>3.1、get 方式的请求参数详解：</h2><h3 id="参数拼接与路径中"><a href="#参数拼接与路径中" class="headerlink" title="参数拼接与路径中"></a>参数拼接与路径中</h3><ul>
<li>后端接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello/&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;获取到的name是：&quot;</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>请求地址<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localhost:8080/hello/tom</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="以键值对形式拼接于路径中"><a href="#以键值对形式拼接于路径中" class="headerlink" title="以键值对形式拼接于路径中"></a>以键值对形式拼接于路径中</h3><ul>
<li><p>后端接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;获取到的name是：&quot;</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>请求路径</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localhost:8080/hello?name=tom</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：多个参数之间使用 &amp; 连接</p>
</blockquote>
<h3 id="自定义参数名称："><a href="#自定义参数名称：" class="headerlink" title="自定义参数名称："></a>自定义参数名称：</h3><p><strong>用于拼接在路径后边的参数名称和接收名称不一致的时候使用</strong></p>
<ul>
<li>后端接口<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;namename&quot;)</span> String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;获取到的name是：&quot;</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>请求路径<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localhost:8080/hello?namename=tom</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="可缺省参数"><a href="#可缺省参数" class="headerlink" title="可缺省参数"></a>可缺省参数</h3><ul>
<li>后端接口<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam(required = false)</span> String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;获取到的name是：&quot;</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="默认值参数"><a href="#默认值参数" class="headerlink" title="默认值参数"></a>默认值参数</h3><ul>
<li>后端接口<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam(defaultValue = &quot;unnamed&quot;)</span> String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;获取到的name是：&quot;</span> + name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>请求地址<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">localhost:<span class="number">8080</span>/hello</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="使用-map-接收参数"><a href="#使用-map-接收参数" class="headerlink" title="使用 map 接收参数"></a>使用 map 接收参数</h3><ul>
<li>后端接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam</span> Map&lt;String, Object&gt; params)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;name：&quot;</span> + params.get(<span class="string">&quot;name&quot;</span>) + <span class="string">&quot;，age：&quot;</span> + params.get(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>请求地址<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localhost:8080/hello?name=tom&amp;age=18</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="使用对象接收参数"><a href="#使用对象接收参数" class="headerlink" title="使用对象接收参数"></a>使用对象接收参数</h3><ul>
<li>后端接口<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;name：&quot;</span> + user.getName() + <span class="string">&quot;，age：&quot;</span> + user.getAge();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>请求地址<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localhost:8080/hello?name=tom&amp;age=jerry</span><br></pre></td></tr></table></figure>
其中，name 和 age 是实体对应的属性，必须要保证其一致性，才能接收到参数。</li>
</ul>
<hr>
<h2 id="3-2、post-方式"><a href="#3-2、post-方式" class="headerlink" title="3.2、post 方式"></a>3.2、post 方式</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//用户注册</span></span><br><span class="line"> <span class="meta">@PostMapping(&quot;/reg&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> R <span class="title function_">register</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>  userService.insert(user);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>put 方式</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//用户更新</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;?&gt; modify(<span class="meta">@RequestBody</span> User user)&#123;</span><br><span class="line">    <span class="keyword">return</span> userService.update(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>delete 方式</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//删除用户</span></span><br><span class="line"><span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;?&gt; remove(<span class="meta">@PathVariable</span> Long id)&#123;</span><br><span class="line">    <span class="keyword">return</span> userService.delete(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>编程艺术</category>
      </categories>
      <tags>
        <tag>接口风格</tag>
        <tag>Restful</tag>
      </tags>
  </entry>
  <entry>
    <title>基础篇：容器化部署技术-—docker，从此摆脱多环境配置的苦恼！</title>
    <url>/2024/01/17/docker/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们设想这样一个场景，现在 leader 给了你一个任务，让你把开发完毕的应用程序进行打包、分发、部署，要求多平台通用，程序的前后端是单独的工程、后端依赖了 mysql、redis、RabbitMQ 等。按常规的运维思路就是，先将配置好的前后端程序分别打包 –&gt; 将打包文件上传到服务器 –&gt; 后端安装 mysql、redis、RabbitMQ –&gt; 配置 nginx 服务器实现反向代理，虽然看上去步骤很简单，顺利部署成功，也不算太糟心，但是保不齐部署的时候，就会出现各种环境上的不兼容问题。此外，当一个程序依赖了五个、六个或者更多的环境时，按照这种传统的部署方式显然很繁琐，一旦遇到环境上的冲突、不兼容等问题，不禁让人陷入苦恼之中。假如有这样一种工具，<strong>能够将程序依赖的环境根据层级关系进行一个叠加</strong>，比如一个 Java 应用程序最底层肯定依赖的是 JDK，接着是一些数据库、中间件等其他环境，最后就是我们运行这个程序的一些入口，将这些环境根据层级关系叠加在一起，我们暂且将其称为安装包吧！<strong>而且这些安装包已经有人已经制作完毕并发布到公共仓库里边，当我们在部署我们的应用时，只需要按照这种工具规定的方式拉取安装包</strong>，部署岂不是方便很多了， <code>docker</code> 就应运而生了！</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171141746.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171141746.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="docker"></p>
<h2 id="一、什么是-Docker"><a href="#一、什么是-Docker" class="headerlink" title="一、什么是 Docker?"></a>一、什么是 Docker?</h2><p>docker 是一款可以为应用程序进行打包、分发、部署的工具，也可以理解为一个轻量的虚拟机，只需要虚拟机软件运行的环境，多余的一点都不需要。而 docker 可以帮助我们下载应用镜像，创建并运行镜像的容器，从而快速部署应用。<br>对于上边提到的打包、分发、部署、镜像、容器这些概念，屏幕前的你是否会有些疑惑？</p>
<ul>
<li>打包：就是将软件所需要的依赖，第三方库，软件包打包到一起，变成一个安装包。</li>
<li>分发：你可以把你打包好的”安装包”上传到一个镜像仓库，其他人可以非常方便的获取和安装。</li>
<li>部署：拿着”安装包”，就可以一行命令运行起来你的应用，在不同的平台上自动模拟出一摸一样的运行环境。</li>
<li><strong>镜像</strong>（image）：<strong>将应用所需的函数库、依赖、配置等与应用一起打包得到的就是镜像</strong>。更加官方的说法就是：镜像是一个包含程序运行必要依赖环境和代码的只读文件，它采用分层的文件系统，将每一层的改变以读写层的形式增加到原来的只读文件上。哈哈，官方说法看来很晦涩难懂呀，<strong>我们只需要把它认为是一个安装包就行，随着使用的增加和深入，慢慢会理解的</strong>。</li>
<li><strong>容器</strong>（container）：为每个镜像的应用创建的隔离运行环境就是容器，说白了就是一个进程。</li>
<li>镜像仓库（repository）：存储和管理镜像的服务就是镜像仓库，目前，DockerHub 是最大的镜像仓库，其中包含各种常见的应用镜像。</li>
</ul>
<p><strong>对于镜像和容器之间的关系我们需要有一定的了解，是非常重要的概念，是我们学习 docker 的基础</strong>，当然，我也不可能通过上边两个简单的概念就可以讲明白这两者之间的概念。打个比方吧，<span style="background: #40a9ff ">镜像（image）好比面向对象编程语言里边的类，而容器 (container)好比面向编程语言里类实例化后的对象。一个类可以有多个对象，同理，一个镜像可以有多一个容器。容器是由镜像实例话而来，简单来说，镜像就是文件，容器就是进程。</span>说到这里，你应该对两者的概念和关系有初步的理解了吧，<strong>镜像就是容器运行的基础，两者是辩证统一的关系</strong>。谈到这里，不得不提一下 docker 的生命周期了，它主要由三部分组成：镜像+容器+仓库。</p>
<h2 id="二、docker-的安装"><a href="#二、docker-的安装" class="headerlink" title="二、docker 的安装"></a>二、docker 的安装</h2><p><a href="%5Bhttps://www.docker.com/products/docker-desktop%5D(https://www.docker.com/products/docker-desktop)">桌面版</a>   </p>
<p><a href="%5Bhttps://docs.docker.com/engine/install/#server%5D(https://docs.docker.com/engine/install/#server)">服务器版 </a></p>
<p>桌面版和服务器版的区别就是桌面版有 docker-compose 这个工具，而服务器版本没有，建议安装桌面版。<br>对于 mac 用户，可以使用 homebrew 安装，但是前提你得有 homebrew 安装工具，关于这个工具的安装，自行搜索网上的教程安装。当你电脑有 homebrew 时，直接用下面的命令行安装：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install --cask docker</span><br></pre></td></tr></table></figure>

<h2 id="三、docker-常用命令"><a href="#三、docker-常用命令" class="headerlink" title="三、docker 常用命令"></a>三、docker 常用命令</h2><p>当我们的电脑上安装了 docker 之后，接着我们便可以使用 docker 来安装软件，在此处，我们以安装 mysql 为例来认识 docker 的基本命令。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171444576.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171444576.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>在终端输入上述命令之后，就会安装好 mysql。关于这条命令的解读如下：</p>
<ul>
<li>docker run ：创建并运行一个容器，-d 是让容器在后台运行</li>
<li>–name mysql ：给容器起个名字，必须唯一</li>
<li>-p 3306:3306 ：设置端口映射</li>
<li>-e KEY&#x3D;VALUE ：是设置环境变量</li>
<li>mysql 指定映射镜像运行的名称。镜像命名一般格式为：镜像名称: 镜像版本 &#x3D;&#x3D;&gt; <code>[ repository ]: [ tag ]</code>，在没有指定版本的时候，默认是 latest 最新版本。<br>通过上边的小例子我们算是对 docker 的命令有了一定的了解，下边这张图是对 docker 命令的一个概述：</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171453530.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171453530.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">具体作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">docker pull</td>
<td align="center">将远程镜像仓库的镜像拉取到本地镜像中，类似于 git 的推送，注意在拉取镜像到本地后，镜像已经开始运行了</td>
</tr>
<tr>
<td align="center">docker push</td>
<td align="center">将本地仓库的镜像推送到远程镜像仓库中，类似于 git 的推送</td>
</tr>
<tr>
<td align="center">docker images</td>
<td align="center">查看本地运行的镜像</td>
</tr>
<tr>
<td align="center">docker rmi</td>
<td align="center">删除本地的镜像，具体命令为 docker rmi -f 镜像名称</td>
</tr>
<tr>
<td align="center">docker build</td>
<td align="center">构建本地的镜像并运行</td>
</tr>
<tr>
<td align="center">docker load</td>
<td align="center">加载本地的镜像并运行</td>
</tr>
<tr>
<td align="center">docker run</td>
<td align="center">运行容器</td>
</tr>
<tr>
<td align="center">docker logs</td>
<td align="center">产看容器运行的日志</td>
</tr>
<tr>
<td align="center">docker exec</td>
<td align="center">进入容器内部</td>
</tr>
<tr>
<td align="center">docker stop</td>
<td align="center">停止容器运行</td>
</tr>
<tr>
<td align="center">docker start</td>
<td align="center">启动容器</td>
</tr>
<tr>
<td align="center">docker ps</td>
<td align="center">查看正在运行的容器</td>
</tr>
<tr>
<td align="center">docker rm</td>
<td align="center">删除容器</td>
</tr>
</tbody></table>
<p>这里有一个技巧，命令的具体细节我们可以不记忆，可以通过 –help 指令来查看它的用法，比如 docker rm 删除容器，我们可以通过 <code>docker rm --help</code> 来查看他的具体用法：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171517962.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171517962.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>从终端的命令我们可看到 <code>docker rm -f 容器名称</code> 就是删除掉一个运行中的容器。通过这种方法我们便可以不用在记忆这么多繁琐的命令，只知道具体的命令关键字即可。<br>通过上边的学习，我们便可以拉取、删除、运行、查看镜像了。</p>
<h2 id="四、容器目录挂载的方式"><a href="#四、容器目录挂载的方式" class="headerlink" title="四、容器目录挂载的方式"></a>四、容器目录挂载的方式</h2><p>通过上边的学习我们可以通过 docker 拉取远程镜像来部署我们的应用，现在有这样一个需求，用 nginx 部署一个 vue 项目，我们首先做的是拉取 nginx 镜像，接着配置 <code>nginx. conf</code> 文件，然后将 vue 打包的应用上传到 nginx 上。<br>那么，问题来了，我们上边提到容器是镜像的实例化对象，而镜像本身就是一个虚拟机，如何去修改配置文件和上传 vue 打包的文件。对于修改配置文件 <code>nginx. conf</code>，我们不妨使用命令 <code>docker exec nginx</code> 进入容器内部, 但是当我们使用 vi 编辑器的时候，发现容器内部不支持，我们上边提到过：<span style="background: rgba (140, 140, 140, 0.12)">docker 是一款可以为应用程序进行打包、分发、部署的工具，也可以理解为一个轻量的虚拟机，只需要虚拟机软件运行的环境，多余的一点都不需要</span>，所以便不会存在 vi 了。假如我们本地存在这样一个目录，可以将修改的配置文件和 vue 打包文件同步到容器内部，那么就方便多了。<br>因此，我们需要了解一个新的概念–数据卷，<strong>它是一个虚拟目录，是容器内目录与宿主机目录之间映射的桥梁</strong>。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171535015.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171535015.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>关于数据卷的详细命令，直接通过帮助指令在终端自行查看，这里只提供常用指令。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171540568.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171540568.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume --help // 查看其他数据卷指令</span><br></pre></td></tr></table></figure>

<p>下边我将介绍三种目录挂载的方式：</p>
<h3 id="1、volume-方式"><a href="#1、volume-方式" class="headerlink" title="1、volume 方式"></a>1、volume 方式</h3><p>由容器创建和管理，创建在宿主机上，所以删除容器不会丢失，官方推荐，更高效，Linux 文件系统，适合存储数据库数据，可以挂载多个容器。<br><strong>当我们在创建并运行镜像的时候，可通过语法</strong> <code>-v 数据卷名称(自定义):容器内目录</code> <strong>来挂载目录，容器创建的时候，如果发现挂载的数据卷不存在时，就会自动创建数据卷</strong>。</p>
<figure class="highlight docker"><table><tr><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d --name nginx -p 80:80 -v html:/usr/share/nginx/html nginx</span></span><br></pre></td></tr></table></figure>

<p>我们在终端查看发现目录 html 挂载成功了。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171555555.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171555555.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>其实，这个 html 目录位于你本地 docker 安装目录下的 volumes 目录内，比如 mac 上是这样的，orbstack 是 mac 电脑上一种内含 dockerde 轻量化软件，不必深究这个目录，只需要找到你的 docker 安装目录即可。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171556716.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171556716.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<h3 id="2、bind-Mount-方式"><a href="#2、bind-Mount-方式" class="headerlink" title="2、bind Mount 方式"></a>2、bind Mount 方式</h3><p>直接把宿主机的物理目录映射到容器内，适合挂载代码目录和配置文件。而且是一种双向绑定，宿主机和容器内的内容都是同步的，也可以挂载到多个容器上。<br>现在有这样一个需求：</p>
<blockquote>
<p>查看 mysql 容器，判断是否有数据卷挂载，基于宿主机目录实现 MySQL 数据目录、配置文件、初始化脚本的挂载（查阅官方镜像文档）<br>①挂载&#x2F;root&#x2F;mysql&#x2F;data到容器内的&#x2F;var&#x2F;lib&#x2F;mysql目录<br>②挂载&#x2F;root&#x2F;mysql&#x2F;init 到容器内的&#x2F;docker-entrypoint-initdb.d 目录<br>③挂载&#x2F;root&#x2F;mysql&#x2F;conf 到容器内的&#x2F;etc&#x2F;mysql&#x2F;conf. d 目录</p>
</blockquote>
<p>对于以上需求，我们可以使用 volume 方式挂载，但是由于涉及的配置文件过多，我们难免在各个过程都需要修改，需要保持本地配置文件和容器内的配置一致，<strong>尤为重要的一点是当我们用 volume 的挂载删除容器时，虽然挂载的目录还在，但是当再次运行容器时，挂载的目录名称变了，上次的数据就会丢失，数据便没有迁移过来</strong> ，因此，我们便选用 bind mount 进行绑定。具体语法如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-v 本地目录 : 容器内目录</span><br></pre></td></tr></table></figure>
<p>在运行 <code>docker run</code> 命令的时候，便可以将这条命令加入到后边。<br>具体执行如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d \                                              --name mysql \</span><br><span class="line">-p 3306:3306 \</span><br><span class="line">-e TZ=Asia/Shanghai \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123 \</span><br><span class="line">-v /Users/username/code/dockerApp/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /Users/username/code/dockerApp/mysql/init:/docker-entrypoint-initdb.d \</span><br><span class="line">-v /Users/username/code/dockerApp/mysql/conf:/etc/mysql/conf.d \</span><br><span class="line">mysql</span><br></pre></td></tr></table></figure>
<p>由于命令太长，这里使用了 <code>\</code> 将命令进行分割。在终端运行以上命令，如下图：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171626806.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171626806.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>我们使用 <code>docker inspect mysql</code> 命令来查看容器的详细信息，这里只截取了挂载目录的信息，如下图：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171642975.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171642975.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>从上图发现已经主机目录已经和容器目录映射成功了！</p>
<h3 id="3、tmpfs-Mount"><a href="#3、tmpfs-Mount" class="headerlink" title="3、tmpfs Mount"></a>3、tmpfs Mount</h3><p>适合存储零食文件，存储在宿主机内存中，不可多容器共享。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171645640.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171645640.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>以上就是我们常见的三种目录挂载方式，核心掌握前两种方法。</p>
<h2 id="五、自定义镜像"><a href="#五、自定义镜像" class="headerlink" title="五、自定义镜像"></a>五、自定义镜像</h2><p>通过以上的学习，我们可以通过别人制作好的镜像去部署一个应用了，但是我们如果要制作属于自己的镜像该怎么做？下边我们将通过一个例子来讲述如何制作一个镜像。<br>镜像就是包含了应用程序、程序运行的系统函数库、运行配置等文件的文件包。构建镜像的过程其实就是把上述文件打包的过程。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171654135.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171654135.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>每一个镜像结构都是根据其依赖关系的层级关系或者说是依赖范围大小分层的，分别有基础镜像，中间的每一层，入口层。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171656879.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171656879.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>关于这些层之间的结构 docker 提供了一个描述文件 <strong>Dockfile</strong> ，它会说明每一层具体要执行哪些操作，帮我们自动构建镜像，常见指令如下：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171701510.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171701510.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<hr>
<p>具体指令的详细描述如下 (可以略过)：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// FROM 指令</span><br><span class="line">FROM &lt;IMAGE&gt;</span><br><span class="line">FROM &lt;IMAGE&gt;:&lt;TAG&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过 FROM 指定的镜像名称必须是一个已经存在的镜像，这个镜像称之为基础镜像，必须位于<strong>第一条非注释指令</strong>。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// MAINTAINER指令</span><br><span class="line">MAINTAINER &lt;NAME&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>指定镜像的作者信息，包含镜像的所有者和联系人信息</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// RUN 指令</span><br><span class="line">用于指定构建镜像时运行的命令，两种模式：</span><br><span class="line">RUN &lt;command&gt; (shell 模式)</span><br><span class="line">RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec模式)</span><br></pre></td></tr></table></figure>
<p>多条 RUN 指令可以合并为一条：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">RUN yun install httpd &amp;&amp; yun install ftp</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这样在构建的时候会减少产生中间层镜像</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// EXPOSE 指令</span><br><span class="line">指定运行该镜像的容器使用的端口，可以是多个</span><br><span class="line">EXPOSE &lt;PORT&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用这个指令的目的是告诉应用程序容器内应用程序会使用的端口，在运行时还需要使用 -p 参数指定映射端口。这是 docker 处于安全的目的，不会自动打开端口。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 80 -d dockertest/dockerfile_build nginx -g &quot;daemon off&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// CMD 指令</span><br><span class="line">// 用于提供容器运行的默认命令 如果在 docker run 时指定了运行的命令，则 CMD 命令不会执行。CMD有如下三种模式：</span><br><span class="line">CMD &lt;command&gt; (shell 模式)</span><br><span class="line">CMD [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec模式)</span><br><span class="line">CMD [&quot;param1&quot;, &quot;param2&quot;] (通常与ENTRYPOINT 搭配指定ENTRYPOINT 的默认参数)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// ADD 和 COPY</span><br><span class="line">作用都是将文件或目录复制到 Dockerfile 构建的镜像中</span><br><span class="line">ADD &lt;src&gt; &lt;dest&gt;</span><br><span class="line">ADD [&quot;&lt;src&gt;&quot; &quot;&lt;dest&gt;&quot;] (适用与文件路径包含空格的情况)</span><br><span class="line"></span><br><span class="line">COPY &lt;src&gt; &lt;dest&gt;</span><br><span class="line">ADD [&quot;&lt;src&gt;&quot; &quot;&lt;dest&gt;&quot;] （适用于文件路径包含空格的情况）</span><br></pre></td></tr></table></figure>
<ul>
<li>build 为镜像（安装包）和运行<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker build -t repository(package name):tag .</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<p>我们可以基于 Ubuntu 基础镜像，利用 Dockerfile 描述镜像结构，</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171712337.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171712337.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>但是这样有点麻烦，我们可以基于 Ubuntu 基础镜像，利用 Dockerfile 描述镜像结构，直接基于 JDK 为基础镜像，省略前面的步骤。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171733008.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171733008.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>当我们便写好了 Dockefile 文件后，可以直接使用一下命令来构建镜像：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker build -t 镜像名称 .</span><br></pre></td></tr></table></figure>
<p><code>-t</code> ：是给镜像起名，格式依然是 repository: tag 的格式，不指定 tag 时，默认为 latest<br><code>.</code> ：是指定 Dockerfile 所在目录，如果就在当前目录, 则指定为 <code>.</code>。</p>
<h2 id="六、网络（多容器通信）"><a href="#六、网络（多容器通信）" class="headerlink" title="六、网络（多容器通信）"></a>六、网络（多容器通信）</h2><p>对于前后端分离的应用，我们单独部署的时候需要配置跨域，而且每个应用都是一个单独的容器，默认情况下，所有容器都是以 bridge 方式连接到 Docker 的一个虚拟网桥上：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171734642.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171734642.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>但是如果重新启动容器后，IP 地址就会发生变化，我们又得在配置文件中修改配置，如果能把变化的 IP 地址用一个变量代替了，这样即使重启应用后，我们在也不需要修改 IP 地址了，而这个变量就是容器名称，但是默认情况下是不能通过容器名互相访问的，这时候我们需要通过自定义网络，让它们加入同一个网络，便可以使用容器名互相访问了！<br>Docker 网络操作命令如下：</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171741146.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171741146.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>也可以在容器运行的时候创建网络，具体示例操作如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d --name redis --netowrk test-net --network-alias redis redis:latest</span><br></pre></td></tr></table></figure>

<h2 id="七、docker-compose"><a href="#七、docker-compose" class="headerlink" title="七、docker-compose"></a>七、docker-compose</h2><p>通过上边的讲述，我们可以将一个项目中涉及的环境进行部署，但是这样的方式只能一个容器一个容器的单独部署运行，如果项目中涉及的容器比较多，效率就会很低，因此 docker 提供了一个工具 docker- compose。Docker Compose 通过一个单独的 <code>docker-compose. yml </code> <strong>模板文件（YAML 格式）来定义一组相关联的应用容器，帮助我们实现多个相互关联的 Docker 容器的快速部署</strong>。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171751153.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171751153.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>事实上，Dockerfile 描述文件中的指令和 <code>docker-compose. yml</code> 配置文件的内容是对应的。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171814040.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171814040.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>当我们配置好了 <code>docker-compose. yml </code> 文件后，直接运行 <code>docker compose [OPTIONS] [COMMAND]</code> 命令部署并运行所有容器。</p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171759761.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401171759761.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>上述内容可以帮助我们处理日常开发过程中碰到的部署问题，对于不是专业的运维工作人员而言，已经足够了。有了 docker 后，我们在部署应用，分享自己的软件的时候，再也不会因为计算机系统、环境冲突而引起的问题苦恼了，这么好的工具我们有什么理由不学习使用呢？</p>
]]></content>
      <categories>
        <category>运维</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>容器化部署技术</tag>
      </tags>
  </entry>
  <entry>
    <title>因果与平衡</title>
    <url>/2023/06/25/%E5%9B%A0%E6%9E%9C%E4%B8%8E%E5%B9%B3%E8%A1%A1/</url>
    <content><![CDATA[<p>在这个宇宙中，无论是生物、自然界还是人类社会，因果与平衡都是普遍存在的规律。它们相互作用，塑造着我们的生活和世界。当我们深入探讨这些规律时，我们会发现，万事万物都在追寻着某种平衡点。一个生态系统、一个生命个体，乃至一个微观粒子，都在努力寻找并维持这种平衡。</p>
<p>因果关系是宇宙中的一种基本原理。在生活中，我们经常会说“因果报应”，意味着一个人的行为会带来相应的结果。然而，因果关系并不仅限于道德层面。在科学和自然界，因果关系也是无处不在的。从物理学的牛顿第三定律到生物学的遗传学，它们都反映了因果规律在不同层面上的体现。</p>
<p>然而，在这个复杂的世界中，因果关系往往并非一对一的简单关系。事物之间的相互作用是错综复杂的，其中的因果关系可能是多对多，甚至是循环往复。在这种情况下，平衡的概念便显得尤为重要。</p>
<p>平衡是一种自然的状态。当事物达到平衡状态时，它们就能够和谐共处，相互制衡，维持稳定。无论是自然界和人类社会的平衡维持机制，还是我们个人如何以自己的理念保持这种平衡，我们可以将平衡视为是因果关系的一种表现形式。一个稳定的系统往往具有良好的因果关系，使得各个因素能够在动态变化中找到恰当的位置。</p>
<p>我们可以将因果和平衡联系起来，以更好地理解万事万物的规律。在生活中，我们常常会遇到各种问题和挑战。理解因果和平衡的关系有助于我们从更广阔的视角审视问题，找到问题的根源，并采取适当的措施来恢复平衡。这种思维方式能够帮助我们更好地应对生活中的困境，实现个人和社会的和谐发展。</p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>世界</tag>
      </tags>
  </entry>
  <entry>
    <title>做自己想做的事情，别太在意别人的看法</title>
    <url>/2023/06/15/%E5%81%9A%E8%87%AA%E5%B7%B1%E6%83%B3%E5%81%9A%E7%9A%84%E4%BA%8B%E6%83%85%EF%BC%8C%E5%88%AB%E5%A4%AA%E5%9C%A8%E6%84%8F%E5%88%AB%E4%BA%BA%E7%9A%84%E7%9C%8B%E6%B3%95/</url>
    <content><![CDATA[<p>在我们追求理想和目标的道路上，只要所做之事不违法、不违背道德和良心，并且有益于社会，那么无论何时都值得去努力。你的热情和喜爱不应被他人的眼光所束缚，也不应受限于他人的评价。他人的支持、评价、劝说和安排都是有局限性的，我们不应该盲从他人，而应该勇敢地追求自己的梦想。换言之，这个世界赋予我们的未必丰富，但我们不应过分关注他人的看法。</p>
<p>如果当年马云过分在意他人的看法，阿里巴巴或许早已消失；如果比尔·盖茨太过拘泥于他人的观点而没有退学创办微软，我们现今的科技世界也许大不相同。所以，<strong>请珍视内心的声音，让生命之花在勇敢追求梦想的道路上绽放</strong>。</p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>程序的本质：代码是如何被执行的</title>
    <url>/2023/04/10/obsidian-%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="一、解释型、编译型、混合型语言"><a href="#一、解释型、编译型、混合型语言" class="headerlink" title="一、解释型、编译型、混合型语言"></a>一、解释型、编译型、混合型语言</h2><p>要回答上述问题，我们要从最基础的讲起。</p>
<p>我们知道，CPU只认识机器指令（<font color="#548dd4">也叫做CPU指令、机器码</font>），用像Python、C++、Java这样的高级语言编写的代码，需要编译（编译的意思实际上就是“翻译”）为机器指令之后，才能被CPU执行。而不同类型的语言，其编译过程也是不同的，据此我们将其分为三类。</p>
<h3 id="1-）编译型语言"><a href="#1-）编译型语言" class="headerlink" title="1 ）编译型语言"></a>1 ）编译型语言</h3><p>对于类似C++这样的编译型语言，<font color="#548dd4">代码会事先被编译成机器指令</font>（可执行文件），然后再一股脑儿交给CPU来执行。在执行时，CPU面对是已经编译好的机器指令，直接逐条执行即可，执行效率比较高。但因为每种类型的CPU（比如Intel、ARM等）支持的CPU指令集不同，并且程序还有可能调用操作系统提供的API，所以，编译之后的可执行文件只能在特定的操作系统和机器上执行，换一种操作系统或机器，编译之后的可执行文件就无法执行了。</p>
<p>title: cpu 类型概述</p>
<p><strong>CPU架构</strong>是 CPU 厂商给属于同一系列的CPU产品定的一个规范，主要目的是为了区分不同类型CPU的重要标示。目前市面上的CPU分类主要分有两大阵营，一个是intel、AMD为首的复杂指令集CPU，另一个是以IBM、ARM为首的精简指令集CPU。两个不同品牌的CPU，其产品的架构也不相同，例如，Intel、AMD的CPU是X86架构的，而IBM公司的CPU是PowerPC架构，ARM公司是ARM架构。</p>
<h3 id="2-）解释型语言"><a href="#2-）解释型语言" class="headerlink" title="2 ）解释型语言"></a>2 ）解释型语言</h3><p>对于类似Python这样的解释型语言，代码并不会被事先编译成机器指令，而是在执行的过程中，由<font color="#548dd4">Python虚拟机</font>（也叫做解释器）逐条取出程序中的代码，编译成机器指令，交由CPU执行，完成之后，再取出下一条代码，重复上述的编译、执行过程。这种<font color="#548dd4">一边编译一边执行的过程，叫做解释执行。</font></p>
<p>解释型语言相对于编译型语言，执行速度会慢一些。因为程序是在执行的过程中一边编译一边执行的，所以，程序整体的执行时间包含了程序编译的时间。不过，使用解释性语言编写的代码，<font color="#d99694">可移植性更好</font>。程序在执行的过程中，<font color="#9bbb59">虚拟机可以根据当前所在机器的CPU类型和操作系统类型，翻译成不同的CPU指令</font>。这样，同一份代码就可以运行在不同类型的机器和不同类型的操作系统上。这就是常听到的“一次编写，多处运行”。</p>
<h3 id="3）混合型语言"><a href="#3）混合型语言" class="headerlink" title="3）混合型语言"></a>3）混合型语言</h3><p>Java语言比较特殊，它属于混合型语言，既包含<font color="#e36c09">编译执行也包含解释执行</font>。</p>
<p>Java编译器会先将代码（.java文件）编译成字节码（.<font color="#e36c09">class文件</font>）而非机器码，字节码算是Java代码的一种中间状态，其跟平台无关，但又可以快速地被翻译成机器码。编译之后的字节码在执行时，仍然是解释执行的，也就是逐行读出字节码，然后翻译成机器码，再交给CPU执行。只不过，<span style="background:#40a9ff">从字节码到机器码的翻译过程，比从高级语言到机器码的翻译过程，耗时要少</span>。这样既保证了Java代码的可移植性（同一份代码可以运行在不同的CPU和操作系统上），又避免了解释执行效率低的问题。</p>
<p>实际上，在解释执行时，也存在编译执行。Java虚拟机会将热点字节码（反复多次执行的代码，类似缓存中的热点数据），编译成机器码缓存起来，以供反复执行，这样就避免了热点字节码反复编译，进一步节省了解释执行的时间。这就是著名的JIT编译（Just In Time Compile，即时编译），这部分内容会在专栏的第三部分中详细讲解，这里就暂不展开。</p>
<h2 id="二、CPU、操作系统、虚拟机"><a href="#二、CPU、操作系统、虚拟机" class="headerlink" title="二、CPU、操作系统、虚拟机"></a>二、CPU、操作系统、虚拟机</h2><p>上面反复提到了CPU、操作系统、虚拟机，现在，我们就来看下，它们在程序的执行过程中，扮演了什么角色。CPU的工作非常明确，用来执行编译好的机器指令，我们重点看下操作系统和虚拟机。</p>
<p>1）操作系统在程序执行中的作用</p>
<p>早期的计算机还没有高级语言和操作系统，程序员用机器指令编写的代码，通过纸带打卡方式记录下来，传输给计算机（可以理解为CPU）直接执行。</p>
<p>随着硬件资源越来越丰富，计算机中开始集成各种硬件设备，比如内存、硬盘、各种输入输出（键盘、鼠标、显示器等），并且，人们希望多个程序能在计算机中并发执行（比如听歌的同时还能打字），于是，操作系统就诞生了。</p>
<p><font color=" #9bbb59 ">操作系统用来管理硬件资源和调度程序的执行</font>。打个比方，CPU 等硬件就好比车间中的机器，工人就像操作系统，一个个程序就像一个个待执行的任务。工人（操作系统）调度机器（CPU 等硬件）来执行各个任务（程序）。</p>
<p>除此之外，<font color="#ff0000">操作系统还担当了类库的作用</font>。对于通用的功能代码，比如读写硬盘等，没必要在每个程序中都从零编写一遍。<font color="#ff0000">操作系统将这些通用的功能代码，封装成API（专业名称叫做系统调用）</font>，供我们在编写应用程序时直接调用。也就是说，在应用程序的执行过程中，CPU可能会跳转去执行操作系统中的某段代码。当然，这段代码肯定是已经编译好的机器指令。</p>
<p>2）虚拟机在程序执行中的作用</p>
<p>我们先下来对比一下，C++代码、Python 代码、Java 代码编译和执行的命令。如下所示。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">// C++  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">g++ helloword.cpp -o helloworld</span>  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./helloword</span>  </span><br><span class="line">  </span><br><span class="line">// Python  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python helloworld.py</span>  </span><br><span class="line">  </span><br><span class="line">// Java  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">javac HelloWorld.java</span>  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">java HelloWorld</span></span><br></pre></td></tr></table></figure>

<p>仔细观察上述命令行的区别，我们可以看出，C++编译之后的代码直接就可以执行，而 Python 和 Java 代码的执行，需要依赖其他程序，也就是虚拟机，表现在命令行中就是前面有 python、java 字样。  </p>
<p>使用解释型和混合型语言编写的代码，执行过程都需要虚拟机的参与。实际上，虚拟机本身也可以看做一个程序，而且它已经是CPU可以执行的机器指令了。程序员编写的代码相当于嵌套在虚拟机程序中一个插件（或者功能模块），只不过，它跟虚拟机本身的代码有点不同，无法直接交给CPU执行。虚拟机将字节码翻译成CPU指令，放到固定的内存位置，再通过修改CPU寄存器中存储的地址的方式，引导CPU执行这块内存中存储的CPU指令（关于这一部分，我们待会会详细讲解）。</p>
<p>如果你是一名经验丰富的Java工程师，不知道你有没有感觉到，虚拟机的这套解释执行的机制，跟Java的反射语法异曲同工，反射是在代码的执行过程中，将字符串（类名、方法名等）转化成代码之后再被执行。而虚拟机的解释执行是将字节码（也可以看做是字符串）转化成CPU指令再执行。</p>
<h2 id="三、CPU-指令、汇编语言、字节码"><a href="#三、CPU-指令、汇编语言、字节码" class="headerlink" title="三、CPU 指令、汇编语言、字节码"></a>三、CPU 指令、汇编语言、字节码</h2><p>前面反复提到CPU指令、字节码，估计你对此会很好奇，它们到底长什么样子。现在，我们就来具体看下。不过，提到CPU指令，免不了要讲一下汇编语言，所以，接下来，我们也会一并讲一下汇编语言。<br>站在操作系统和 CPU 的角度，Java 程序编译之后的字节码跟虚拟机合并在一起，才算是一个完整的程序，才相当于 C++编译之后的可执行文件。CPU 在执行程序员编写的代码的同时，也在执行虚拟机代码。而且是先执行虚拟机代码，然后才是引导执行程序员编写的代码。</p>
<h3 id="1-）CPU-指令"><a href="#1-）CPU-指令" class="headerlink" title="1 ）CPU 指令"></a>1 ）CPU 指令</h3><p>前面提到，我们经常说的 CPU 指令、机器码、机器指令，实际上都是一个东西，就是 CPU 可以完成的操作。一条 CPU 指令包含的信息主要有：<span style="background:rgba(5, 117, 197, 0.2)">操作码、地址、数据三种</span>，指明所要执行的操作、数据来源、操作结果去向。</p>
<p>cpu可以完成的所有的操作，叫做指令集。常见的指令集有 X86、X86-64、ARM、MIPS 等。不同的 CPU 支持的指令集可能不同（Intel CPU 支持的 X86 指令集，ARM CPU 支持指令集 ARM）。当然，不同的 CPU 支持的指令集也可以相同（比如 Intel 和 AMD 的 CPU 都支持 X86 和 X86-64 指令集）。同一个 CPU 也可以支持多种指令集（Intel CPU 支持的指令集有 X86、X86-64 以及其他扩展指令集）。CPU 支持的指令集一般都非常庞大，例如 Intel CPU 支持 2000 多条指令，可以完成诸多不同类型的操作。</p>
<h3 id="2）汇编语言"><a href="#2）汇编语言" class="headerlink" title="2）汇编语言"></a>2）汇编语言</h3><p>前面提到，在计算机发展的早期，程序员直接使用机器码来编写程序。但是，因为机器码是二进制码，所以，编写起来复杂、可读性也不好。为了解决这个问题，汇编语言就被发明出来了。<span style="background:rgba(5, 117, 197, 0.2)">汇编语言由一组汇编指令构成</span>，汇编指令跟CPU指令一一对应，<span style="background:rgba(5, 117, 197, 0.2)">但汇编指令采用字符串而非二进制数来表示指令</span>，所以，可读性好很多。实际上，CPU指令和汇编指令之间的关系，就类似IP地址和域名之间的关系，IP地址和域名一一对应，域名的可读性比IP地址好。</p>
<p><font color="#ff0000">程序员使用汇编语言编写的代码，需要经过编译，翻译成机器码才能被CPU执行。这个编译过程有个特殊的名称，叫做“汇编”。</font>C&#x2F;C++语言的编译过程，实际上就包含汇编这一步骤。编译器先将C&#x2F;C++代码编译成汇编代码，然后再汇编成机器码。</p>
<p>我们拿一段 C 语言代码来举例，如下所示，看看编译之后的汇编代码长什么样子。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// hello.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;studio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> c = a + b;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码编译为汇编代码，如下所示：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -S hello.c</span>  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> hello.s</span>  </span><br><span class="line">_main:                                  ## @main  </span><br><span class="line">.cfi_startproc  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># %bb.0:</span></span>  </span><br><span class="line">pushq %rbp  </span><br><span class="line">.cfi_def_cfa_offset 16  </span><br><span class="line">.cfi_offset %rbp, -16  </span><br><span class="line">movq %rsp, %rbp  </span><br><span class="line">.cfi_def_cfa_register %rbp  </span><br><span class="line">movl $0, -4(%rbp)  </span><br><span class="line">movl $1, -8(%rbp)  </span><br><span class="line">movl $2, -12(%rbp)  </span><br><span class="line">movl -8(%rbp), %eax  </span><br><span class="line">addl -12(%rbp), %eax  </span><br><span class="line">movl %eax, -16(%rbp)  </span><br><span class="line">movl -16(%rbp), %eax  </span><br><span class="line">popq %rbp  </span><br><span class="line">retq</span><br></pre></td></tr></table></figure>
<p>有同学可能有疑问，这个汇编代码跟他见过的不大一样，实际上，汇编指令跟 CPU 指令一一对应，相同指令集对应的汇编指令集都是一样的（比如上面的代码是 Intel 的 CPU 支持的 X86 指令集对应的汇编代码），只不过语法格式有可能不同。汇编语言主要有两种语法格式，一种是 Intel 风格的，一种是 AT&amp;T 风格的。上述汇编代码是 AT&amp;T 风格，对应的 Intel 风格如下所示。对比上下两段汇编代码，唯一的区别就是格式不同而已。注意下面这段代码添加了部分注释，汇编中的注释以分号开头。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gcc -S -masm=intel hello.c</span>  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> hello.s</span>  </span><br><span class="line">_main:                                  ## @main  </span><br><span class="line">.cfi_startproc  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># %bb.0:</span></span>  </span><br><span class="line">push rbp  </span><br><span class="line">.cfi_def_cfa_offset 16  </span><br><span class="line">.cfi_offset rbp, -16  </span><br><span class="line">mov rbp, rsp  </span><br><span class="line">.cfi_def_cfa_register rbp  </span><br><span class="line">mov dword ptr [rbp - 4], 0  ;安全word，没有实际意义  </span><br><span class="line">mov dword ptr [rbp - 8], 1  ;int a = 1; 存储在栈中rbp-8的位置  </span><br><span class="line">mov dword ptr [rbp - 12], 2 ;int b = 2; 存储在栈中rpb-12的位置  </span><br><span class="line">mov eax, dword ptr [rbp - 8] ;a的值累加在寄存器eax上  </span><br><span class="line">add eax, dword ptr [rbp - 12] ;b的值累加在寄存器eax上  </span><br><span class="line">mov dword ptr [rbp - 16], eax ;int c = a+b  </span><br><span class="line">mov eax, dword ptr [rbp - 16] ;return c。返回值通过eax返回给上层。  </span><br><span class="line">       ;所以，把c值赋值给eax。因为上一句指令结束之后，  </span><br><span class="line">       ;有可能还有其他运算还会用到eax（本程序比较简单，没有其他运算了），  </span><br><span class="line">       ;所以eax中的值有可能会被改变，所以程序返回时重新将c值重新赋值给eax。  </span><br><span class="line">pop rbp  </span><br><span class="line">ret</span><br></pre></td></tr></table></figure>

<p>对于没学习过汇编语言的同学，完全理解上述汇编代码可能比较困难。不过，这里，我们只需要简单了解汇编代码长什么样子，有个直观的认识即可。关于以上汇编代码的具体解释，我们在下一节会讲到。</p>
<h3 id="3）字节码"><a href="#3）字节码" class="headerlink" title="3）字节码"></a>3）字节码</h3><p>我们常说，Java 语言是跨平台的，”write once, run anywhere”（一次编写，多处运行）。程序员编写的代码，在不需要任何修改的情况下，就可以运行在不同的平台上（不同的操作系统和 CPU）。</p>
<p>有人认为，Java语言之所以能跨平台，是字节码的功劳。因为字节码跟平台无关，我们在一个平台上编译得到的字节码，可以运行在其他平台上。</p>
<p>实际上，这样的观点是不确切的。毕竟没有字节码的解释型语言也可以跨平台。字节码诞生的目的是，克服解释型语言解释执行速度慢的缺点（字节码是介于高级语言和机器码之间的形态，比高级语言解释执行更快）。字节码跟平台无关，是为了让Java语言保留解释型语言跨平台的优点，而不是促使Java语言跨平台的最根本原因。这一点要搞清楚。</p>
<p>之所以Java语言能做到跨平台，最根本原因是有虚拟机的存在。Java代码跟平台无关，字节码跟平台无关，在编译执行过程中，总要有一个环节跟平台有关，不然，跟平台有关的、最终可以被CPU执行的机器码从何而来。俗话说的好，哪有什么岁月静好，只是有人帮你负重前行。跟平台有关的环节就是解释执行环节，而这个环节的主导者就是虚拟机。</p>
<p>虚拟机是已经编译好的可以被CPU执行的机器码，而机器码又是跟平台有关的，因此虚拟机必须跟平台有关。这也是为什么在不同的平台（操作系统和CPU）上，我们需要下载不同的Java虚拟机的原因。<br><img src="/../attachment/325ef93a4a9adea09fee8879218bfd7e.png" class="lazyload" data-srcset="/../attachment/325ef93a4a9adea09fee8879218bfd7e.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>明确了字节码的作用之后，我们通过一个简单的例子，来看下字节码到底长什么样子？</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span> &#123;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">222222</span>;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于上面的代码，我们使用javac命令编译之后，会得到一个后缀为.class的文件HelloWorld.class，这个文件里保存的一堆二进制码就是字节码。为了方便查看，我们用vi打开转化成16进制格式之后，如下所示：<br><img src="/../attachment/0856de2088925c1a4f6ab1e0ed1836d1.png" class="lazyload" data-srcset="/../attachment/0856de2088925c1a4f6ab1e0ed1836d1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>显然，这样的二进制文件是交给虚拟机解析的，人类阅读起来非常费劲。我们可以<font color="#ff0000">使用javap工具，将class文件解析成适合人类阅读的格式，如下所示。这个过程被叫做反编译。</font>为啥叫做反编译呢？我们可以跟“编译”对比着理解。编译是将贴近人阅读的内容，翻译成贴近机器阅读的内容的过程。对应地，反编译就是将贴近机器阅读的内容，翻译成贴近人阅读的内容的过程。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">javap -verbose HelloWorld</span>   </span><br><span class="line">Classfile /Users/wangzheng/Desktop/HelloWorld.class  </span><br><span class="line">  Last modified 2022-3-20; size 291 bytes  </span><br><span class="line">  MD5 checksum ea48b76348ad4f0c07a2bf96840e8e00  </span><br><span class="line">  Compiled from &quot;HelloWorld.java&quot;  </span><br><span class="line">public class HelloWorld  </span><br><span class="line">  minor version: 0  </span><br><span class="line">  major version: 52  </span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER  </span><br><span class="line">Constant pool:  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">1 = Methodref          <span class="comment">#4.#13         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span></span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">2 = Integer            222222</span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">3 = Class              <span class="comment">#14            // HelloWorld</span></span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">4 = Class              <span class="comment">#15            // java/lang/Object</span></span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">5 = Utf8               &lt;init&gt;</span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">6 = Utf8               ()V</span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">7 = Utf8               Code</span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">8 = Utf8               LineNumberTable</span>  </span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">9 = Utf8               main</span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">10 = Utf8               ([Ljava/lang/String;)V</span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">11 = Utf8               SourceFile</span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">12 = Utf8               HelloWorld.java</span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">13 = NameAndType        <span class="comment">#5:#6          // &quot;&lt;init&gt;&quot;:()V</span></span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">14 = Utf8               HelloWorld</span>  </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">15 = Utf8               java/lang/Object</span>  </span><br><span class="line">&#123;  </span><br><span class="line">  public HelloWorld();  </span><br><span class="line">    descriptor: ()V  </span><br><span class="line">    flags: ACC_PUBLIC  </span><br><span class="line">    Code:  </span><br><span class="line">      stack=1, locals=1, args_size=1  </span><br><span class="line">         0: aload_0  </span><br><span class="line">         1: invokespecial #1   // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V  </span><br><span class="line">         4: return  </span><br><span class="line">      LineNumberTable:  </span><br><span class="line">        line 1: 0  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  public static void main(java.lang.String[]);  </span><br><span class="line">    descriptor: ([Ljava/lang/String;)V  </span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC  </span><br><span class="line">    Code:  </span><br><span class="line">      stack=2, locals=4, args_size=1  </span><br><span class="line">         0: iconst_1  </span><br><span class="line">         1: istore_1  </span><br><span class="line">         2: ldc           #2     // int 222222  </span><br><span class="line">         4: istore_2  </span><br><span class="line">         5: iload_1  </span><br><span class="line">         6: iload_2  </span><br><span class="line">         7: iadd  </span><br><span class="line">         8: istore_3  </span><br><span class="line">         9: return  </span><br><span class="line">      LineNumberTable:  </span><br><span class="line">        line 3: 0  </span><br><span class="line">        line 4: 2  </span><br><span class="line">        line 5: 5  </span><br><span class="line">        line 6: 9  </span><br><span class="line">&#125;  </span><br><span class="line">SourceFile: &quot;HelloWorld.java&quot;</span><br></pre></td></tr></table></figure>

<p>不过，你有没有产生过这样的好奇，class文件为什么叫字节码？跟字节（byte）有什么关系呢？实际上，class文件里包含了很多类的信息，而其中main()函数中的代码对应的字节码指令（字节码指令是二进制的，下面的是反编译之后的助记符）只有下面这几行：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">0: iconst_1  //把int型1入栈  </span><br><span class="line">         1: istore_1  //把栈顶int型数值存入第一个变量，也就是a  </span><br><span class="line">         2: ldc #2    //将常量池中的#2号常量222222入栈  </span><br><span class="line">         4: istore_2  //把栈顶int型数值存入第二个变量，也就是b  </span><br><span class="line">         5: iload_1   //把第一个变量的值入栈  </span><br><span class="line">         6: iload_2   //把第二个变量的值入栈  </span><br><span class="line">         7: iadd      //将栈顶的两个int型数据相加，结果压入栈  </span><br><span class="line">         8: istore_3  //将栈顶int型数值存入第三个变量，也就是c  </span><br><span class="line">         9: return    //程序返回</span><br></pre></td></tr></table></figure>

<p>一条字节码指令有些包含操作码和操作数两部分，有些只包含操作码这一部分。因为操作码长度为一个字节，所以，这种指令格式被叫做字节码。从另一个角度，我们也可以得知，字节码的操作码类型不超过256个（2^8）。相对于CPU指令和汇编指令，字节码指令少很多。这是因为字节码指令相对于CPU指令来说，抽象程度更高。一条字节码指令完成的逻辑，比一条CPU指令完成的逻辑，更加复杂。</p>
<blockquote>
<p>Java8 的字节码指令集<a href="https://www.xzgedu.com/detail/i_625e1003e4b09dda125cbfc5/1?from=p_625cfab5e4b01a4851f30d8a&type=6&parent_pro_id=">点击此处</a>查看</p>
</blockquote>
<h2 id="四、代码是如何被-Cpu-执行的"><a href="#四、代码是如何被-Cpu-执行的" class="headerlink" title="四、代码是如何被 Cpu 执行的"></a>四、代码是如何被 Cpu 执行的</h2><p>有了以上铺垫，我们最后讲解一下：“代码是如何被 CPU 执行的”。</p>
<p>不管是使用哪种类型的编程语言（编译型、解释型、混合型）编写的代码，不管经历什么样的编译、解释过程，最终交给 CPU 执行的都是机器码。</p>
<p>提到 CPU，就不得不提寄存器。</p>
<p>我们知道，内存的读写速度比起 CPU 指令的执行速度要慢很多。从内存中读取 32 位二进制数据所耗费的时间，相当于 CPU 执行上百条指令所耗费的时间。所以，CPU 在执行指令时，如果依赖内存来存储计算过程中的中间数据，那么，CPU 总是在等待读写内存操作的完成，势必非常会影响 CPU 的计算速度。为了解决这个问题，寄存器就被发明出来了。</p>
<p>寄存器读写速度非常快，能够跟 CPU 指令执行速度相匹配。所以，数据会先读取到寄存器中再参与计算。不过，你可能会说了，数据在计算前需要先从内存读取到寄存器，计算之后存储在寄存器中的结果也要写入到内存，寄存器的存在并没有避免掉内存的读写，使用寄存器是不是多此一举呢？实<font color="#ff0000">际上，尽管最初数据来源于内存，最后计算结果也要写入内存，但中间的计算过程涉及到一些临时结果的存取，都可以在寄存器中完成，</font>不用跟非常慢速的内存进行交互。顺便说一句，计算机为了提高 CPU 读写内存的速度，还引入了 L1、L2、L3 这三级缓存。</p>
<p>寄存器为了做到能让CPU高速访问，硬件设计比较特殊（高成本、高能耗），且与CPU距离很近（相对于内存来说，寄存器直接跟CPU集成在一起），这些也决定了寄存器的个数不会很多。不同的CPU包含的寄存器会有所不同。常见的寄存器有以下几类。</p>
<p><strong>1）通用寄存器：AX，BX，CX，DX</strong></p>
<p>通用寄存器区别于下面要讲到的特殊寄存器，它们一般用来存储普通数据。AX，BX，CX，DX这四种通用寄存器的用途又有所区别，比如AX是累加器，这些细节我们就不展开讲解了。</p>
<p><strong>2）指针寄存器：BP，SP，SI，DI，IP</strong></p>
<p>BP（Base Pointer Register）和SP（Stack Pointer Register）是用于存储栈空间地址的寄存器，SP存储栈顶地址，BP比较特殊，一般存储栈中一个栈帧的栈底地址。这一部分在下一节讲解函数的执行过程时再详细讲解。</p>
<p>SI（Source Index Register）源地址寄存器和DI（Destination Index Register）目的地址寄存器，分别用来存储读取和写入数据的内存地址。</p>
<p>IP（Instruction Pointer Register）指令指针寄存器存储下一条将要执行的指令的内存地址（此处的描述不够准确，下文解释）。</p>
<p><strong>3）段寄存器：CS，DS，SS</strong></p>
<p>程序由一组指令和一堆数据组成。指令存储在某块内存中（这块内存被称为代码段），由CPU逐一读取执行。数据也存储在某块内存中（这块内存被称为数据段）。指令执行的过程中，会操作（读取或写入）这块内存中的数据。</p>
<p>CS（Code Segment Register）代码段地址寄存器存储了代码段的起始地址。上文中讲到，IP 寄存器中存储的是下一条将要执行的指令的内存地址，实际上，这样的说法是不准确的。CS 和 IP 两个寄存器中存储的内容如下计算，才能得到一个真正的物理内存地址。</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">物理内存地址 = 段地址（如CS） * 16 + 偏移地址（如IP）</span><br></pre></td></tr></table></figure>

<p>我们拿 8086 CPU（早期 16 位的 X86 CPU）举例解释。8086 CPU 具有 20 位地址总线，支持 1MB 内存的寻址能力。对于 16 位的 IP 寄存器，只能存储 64K（2^16）个内存地址，一个字节占一个地址，那么只能支持 64KB 大小内存的寻址。为了扩大寻址能力，计算机使用段地址和偏移地址相结合的方式来确定一个物理内存地址。</p>
<p>对于存储下一条将要执行的指令的地址的寄存器，你或许还听到过PC寄存器（Program Counter Register）这种叫法。实际上，PC寄存器是一个抽象概念，CS寄存器和IP寄存器是具体寄存器的名称。我们可以简单理解为PC寄存器就是CS寄存器和IP寄存器的抽象统称。</p>
<p>DS（Data Segment Register）数据段地址寄存器存储了数据段的起始地址，同理，它跟DI或SI结合才能确定一个数据段中的内存地址。</p>
<p>SS（Stack Segment Register）栈寄存器存储的是栈的起始地址，同理，它跟SP结合才能确定栈顶的内存地址，跟BP结合才能确定栈中某个中间位置的内存地址。有些同学看到这里可能会有疑问，数据段是存储数据的，栈也是存储数据，这两者有什么联系呢？关于这个问题，我们在下一节文章中会讲到。</p>
<p>4）指令寄存器：IR</p>
<p>IR（Instruction Register）指令寄存器用来存放当前正在执行的指令。指令为一串二进制码，指令译码器需要从指令中解析出操作码和操作地址或操作数。所以，指令需要暂存在指令寄存器中等待译码处理。</p>
<p>5）标志寄存器</p>
<p>FR（Flag Register）标志寄存器，也叫做程序状态字寄存器（Program Status Word，PSW）,在这个寄存器中的每一个二进制位记录一类状态。比如cmp比较大小指令的运算结果会存储在ZF零标志位或CF进位标志位中。关于更多细节，我们不展开讲解。</p>
<p>以上寄存器都是用来辅助完成CPU的各种指令。注意，以上是16位的寄存器，32位的寄存器名称在对应的16位寄存器名称前加E（例如EAX，EBP，ESP，EIP），64位的寄存器名称在对应的16位寄存器名称前加R（例如RAX，RBP，RSP，RIP）。在下一节中，在讲解编程语言基本语法的底层实现原理时，我们还会提到更多寄存器的使用细节。</p>
<p>了解了CPU指令执行的重要部件寄存器之后，我们来看下CPU执行指令的流程。</p>
<p>对于编译型语言，操作系统会把编译好的机器码，加载到内存中的代码段，将代码中变量等数据放入内存中的数据段，并且设置好各个寄存器的初始值，如DS、CS等。IP寄存器中存储代码段中第一条指令的内存地址相对于CS的偏移地址。</p>
<p>CPU根据PC寄存器（CS寄存器和IP寄存器的总称）存储的内存地址，从对应的内存单元中取出一条CPU指令，放到IR指令寄存器中，然后将IP寄存器中的地址+4（也就是下一条指令在代码段中的偏移地址。内存中的每一个字节都对应一个地址。对于32位CPU，一条指令长度为4字节，下一条指令地址&#x3D;当前指令地址+4。对于64位CPU，一条指令长度是8字节，下一条指令地址&#x3D;当前指令地址+8）。一条指令执行完成之后，再通过PC寄存器中的地址，取下一条指令继续执行。循环往复，直到所有的指令都执行完成。</p>
<p>对于解释型或混合型语言，操作系统将虚拟机本身的机器码，加载到内存中的代码段，然后一条一条地被CPU执行。这部分被执行的指令对应的功能，就包括把程序员编写的程序解释成机器码这一功能。虚拟机把解释好的机器码会放到某段内存中，然后将PC寄存器的地址设置为这段内存的首地址，于是，CPU就被虚拟机引导去执行程序员编写的代码了。</p>
<p>在本节中，我们把程序用到的内存，粗略地分为代码段和数据段，对于Java语言来说，其虚拟机对内存还做了更加细致的划分，这部分内容我们在专栏的JVM部分讲解。</p>
<h2 id="五、课后思考题"><a href="#五、课后思考题" class="headerlink" title="五、课后思考题"></a>五、课后思考题</h2><p>1）在你熟悉的语言中，有哪些是解释型语言？哪些是编译型语言？哪些是混合型语言？</p>
<p>2）本节中提到，C&#x2F;C++代码会先编译成汇编代码，再汇编成机器码，才能被执行。按理来说，汇编代码跟机器码一一对应，为什么 C&#x2F;C++代码不直接编译成机器码呢？先编译成汇编代码不是多此一举吗？</p>
<p>#未理解 ： 寄存器的各种形式</p>
]]></content>
      <categories>
        <category>编程艺术</category>
      </categories>
      <tags>
        <tag>CS</tag>
      </tags>
  </entry>
  <entry>
    <title>创造力</title>
    <url>/2023/04/16/%E6%84%9F%E6%83%B3/</url>
    <content><![CDATA[<p>社会总是用激进竞争的话语来诱惑年轻人需要奋力向上，但是事实上这剥夺了年轻人自由选择生活和发现创造性的权利。所以我们这十六年多的学习旅途中，真的获得创造力了吗？</p>
]]></content>
      <categories>
        <category>随笔记录</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>如何搭建前后端分离的项目</title>
    <url>/2022/08/30/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<p>前后端分离已经成为现今的主流开发模式，本篇将通过 demo 报道登记管理系统介绍如何搭建一个前后端分离的 web 应用。</p>
<h2 id="1、报道登记管理系统介绍"><a href="#1、报道登记管理系统介绍" class="headerlink" title="1、报道登记管理系统介绍"></a>1、报道登记管理系统介绍</h2><h3 id="后台技术栈："><a href="#后台技术栈：" class="headerlink" title="后台技术栈："></a>后台技术栈：</h3><p>spring + spring mvc + mybatis + mysql8.0</p>
<h3 id="前台技术："><a href="#前台技术：" class="headerlink" title="前台技术："></a>前台技术：</h3><p>vue + vuex + element-ui</p>
<h3 id="主要功能介绍"><a href="#主要功能介绍" class="headerlink" title="主要功能介绍"></a>主要功能介绍</h3><p>1、用户登录(包括自动登录)、退出、权限拦截</p>
<p>2、学生报道登记管理（列表、新增、编辑、删除、按条件查询、文件上传）</p>
<h2 id="2、页面展示"><a href="#2、页面展示" class="headerlink" title="2、页面展示"></a>2、页面展示</h2><ul>
<li>管理员的主页显示</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251749337.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251749337.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<ul>
<li>填报界面</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251749781.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251749781.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<ul>
<li>用户管理界面</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251750438.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251750438.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<h2 id="3、前后端项目结构"><a href="#3、前后端项目结构" class="headerlink" title="3、前后端项目结构"></a>3、前后端项目结构</h2><h3 id="目录及构图"><a href="#目录及构图" class="headerlink" title="目录及构图"></a>目录及构图</h3><ul>
<li>后端目录结构图：</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251751850.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251751850.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<ul>
<li>前端目录结构图</li>
</ul>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251751640.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251751640.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<h3 id="前后端分离搭建项目时的要点："><a href="#前后端分离搭建项目时的要点：" class="headerlink" title="前后端分离搭建项目时的要点："></a>前后端分离搭建项目时的要点：</h3><ul>
<li><p>前端</p>
<p>  前端还是使用较为经典的 vue2 项目，通过 vue-cli 搭建。</p>
</li>
<li><p>后端</p>
<p>  搭建时，注意还是搭建maven的web项目，这样才能建立后端服务，也尝试搭建过maven的普通Java项目，但是后边发现把它放在tomcat服务器里边无法为前端提供服务。</p>
</li>
</ul>
<h2 id="4、解决前后端分离时的跨域问题"><a href="#4、解决前后端分离时的跨域问题" class="headerlink" title="4、解决前后端分离时的跨域问题"></a>4、解决前后端分离时的跨域问题</h2><h3 id="4-1、为什么会产生跨域问题"><a href="#4-1、为什么会产生跨域问题" class="headerlink" title="4.1、为什么会产生跨域问题"></a>4.1、为什么会产生跨域问题</h3><p><strong>跨域问题是因为浏览器的同源策略引起的，所谓同源是指”协议+域名+端口”三者相同，即便两个不同的域名指向同一个 ip 地址，也非同源。同源策略&#x2F;SOP（Same origin policy）是一种约定，由 Netscape 公司 1995 年引入浏览器，它是浏览器最核心也最基本的安全功能，现在所有支持 JavaScript 的浏览器都会使用这个策略。如果缺少了同源策略，浏览器很容易受到 XSS、 CSFR 等攻击</strong>。</p>
<h3 id="4-2、如何解决跨域"><a href="#4-2、如何解决跨域" class="headerlink" title="4.2、如何解决跨域"></a>4.2、如何解决跨域</h3><h4 id="4-2-1、前端解决"><a href="#4-2-1、前端解决" class="headerlink" title="4.2.1、前端解决"></a>4.2.1、前端解决</h4><p>前端项目如果是vue项目，可以在vue的全局配置文件<em><strong>vue.config.js</strong></em> 中进行配置，将需要访问的后端地址进行代理，从安全方面考虑，推荐这样做，具体配置如下：</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> define = <span class="built_in">require</span>(<span class="string">&quot;./src/util/define&quot;</span>)</span><br><span class="line"><span class="comment">// define是自己定义的一些全局配置变量，便于管理</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// 去除代码规范</span></span><br><span class="line">  <span class="attr">lintOnSave</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: define.<span class="property">APIURL</span>, <span class="comment">// define.APIURL就是你后端服务的地址</span></span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="4-2-2、后端解决"><a href="#4-2-2、后端解决" class="headerlink" title="4.2.2、后端解决"></a>4.2.2、后端解决</h4><p>后端我使用的  spring 版本是 4.0 以上的，所以配置跨域很简单，只需要在相应的控制器或方法上加上注解  <code>@CrossOrigin(origins = &#123;&quot;http://localhost:8080&quot;&#125;)。</code></p>
<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251752782.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251752782.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>你也可以直接使用 <strong>@CrossOrgin</strong> 来进行配置，但是这样所有的访问地址都可以访问到你的服务，不安全。<strong>同时，这个注解也可以放在方法上，表示这个方法单独可以被访问</strong>。</p>
<p>关于后端解决跨域的方式还有其他途径，比如全局配置拦截器，这里再不做细讲。</p>
<h2 id="5、ssm-重要的配置文件"><a href="#5、ssm-重要的配置文件" class="headerlink" title="5、ssm 重要的配置文件"></a>5、ssm 重要的配置文件</h2><h4 id="Pom-xml-依赖配置"><a href="#Pom-xml-依赖配置" class="headerlink" title="Pom.xml 依赖配置"></a>Pom.xml 依赖配置</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cxsw<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rmsService<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>rmsService<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--FIXME change it to the project&#x27;s website--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:3000<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 测试相关   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring 相关 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 事务相关 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 数据层相关 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 实体代码生成工具 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 整合mybatis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- jackson --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 文件上传相关--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.11.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.36<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>3000<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="ApplicationContext-xml-spring-核心配置文件"><a href="#ApplicationContext-xml-spring-核心配置文件" class="headerlink" title="ApplicationContext.xml (spring 核心配置文件)"></a>ApplicationContext.xml (spring 核心配置文件)</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 组建扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.cxsw.rms&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置数据源 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 整合mybtis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactoryBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:/mappers/*.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactoryBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mapperScannerConfigurer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.cxsw.rms.repository&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置声明式事务控制 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSourceTransactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;dataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;insert*&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;delete*&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;update*&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointCut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.cxsw.rms.service.impl.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointCut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="SpringMVC-xml-（springMVC的核心配置文件）"><a href="#SpringMVC-xml-（springMVC的核心配置文件）" class="headerlink" title="SpringMVC.xml （springMVC的核心配置文件）"></a>SpringMVC.xml （springMVC的核心配置文件）</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置组建扫描 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.cxsw.rms.controller&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置注解驱动 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dateConverter&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.cxsw.rms.convert.DateConverter&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;</span> <span class="attr">id</span>=<span class="string">&quot;conversionService&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;converters&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dateConverter&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 时间转换驱动 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> <span class="attr">conversion-service</span>=<span class="string">&quot;conversionService&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  配置文件上传解析器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;52128800&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSizePerFile&quot;</span> <span class="attr">value</span>=<span class="string">&quot;52128800&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="Mybatis-配置文件（ssm-集成之后可以不需要此配置文件，个人习惯而已）"><a href="#Mybatis-配置文件（ssm-集成之后可以不需要此配置文件，个人习惯而已）" class="headerlink" title="Mybatis 配置文件（ssm 集成之后可以不需要此配置文件，个人习惯而已）"></a>Mybatis 配置文件（ssm 集成之后可以不需要此配置文件，个人习惯而已）</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  替换全限定名  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.cxsw.rms.entity.User&quot;</span>  <span class="attr">alias</span>=<span class="string">&quot;user&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.cxsw.rms.entity.Student&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;student&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="数据库的配置文件"><a href="#数据库的配置文件" class="headerlink" title="数据库的配置文件"></a>数据库的配置文件</h4><aside>
✅ 注意mysql的版本，如果是8.0 驱动包是com.mysql.cj.jdbc.Driver，5.0版本的驱动包在 com.mysql.jdbc.Driver 下。导入依赖的时候格外要注意。

</aside>


<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">druid.jdbc.driver=com.mysql.cj.jdbc.Driver</span><br><span class="line">druid.jdbc.url=jdbc:mysql://localhost:3306/rms?useUnicode=true&amp;characterEncoding=utf-8</span><br><span class="line">druid.jdbc.username=root</span><br><span class="line">druid.jdbc.password=wb7446032001</span><br></pre></td></tr></table></figure>


<h4 id="Mapper-文件（示例）"><a href="#Mapper-文件（示例）" class="headerlink" title="Mapper 文件（示例）"></a>Mapper 文件（示例）</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.cxsw.rms.repository.StudentMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;studentMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;SID&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;NAME&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;nation&quot;</span> <span class="attr">column</span>=<span class="string">&quot;NATION&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;idCard&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ID_CARD&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;region&quot;</span> <span class="attr">column</span>=<span class="string">&quot;REGION&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;education&quot;</span> <span class="attr">column</span>=<span class="string">&quot;EDUCATION&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;school&quot;</span> <span class="attr">column</span>=<span class="string">&quot;SCHOOL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;major&quot;</span> <span class="attr">column</span>=<span class="string">&quot;MAJOR&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;educationType&quot;</span> <span class="attr">column</span>=<span class="string">&quot;EDUCATION_TYPE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;EMAIL&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">column</span>=<span class="string">&quot;PHONE&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;employeeUnit&quot;</span> <span class="attr">column</span>=<span class="string">&quot;EMPLOYEE_UNIT&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;registerBook&quot;</span> <span class="attr">column</span>=<span class="string">&quot;REGISTER_BOOK&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;diploma&quot;</span> <span class="attr">column</span>=<span class="string">&quot;DIPLOMA&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;creatTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;CREAT_TIME&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertStudent&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">        INSERT INTO STUDENTS (`SID`, `NAME`, NATION, ID_CARD, REGION, EDUCATION, SCHOOL, MAJOR, EDUCATION_TYPE,</span><br><span class="line">                              EMAIL, PHONE, EMPLOYEE_UNIT, REGISTER_BOOK, DIPLOMA, CREAT_TIME) VALUE</span><br><span class="line">                             (</span><br><span class="line">                              #&#123;sid&#125;, #&#123;name&#125;, #&#123;nation&#125;, #&#123;idCard&#125;, #&#123;region&#125;, #&#123;education&#125;, #&#123;school&#125;, #&#123;major&#125;,</span><br><span class="line">                              #&#123;educationType&#125;, #&#123;email&#125;, #&#123;phone&#125;, #&#123;employeeUnit&#125;, #&#123;registerBook&#125;, #&#123;diploma&#125;,</span><br><span class="line">                              #&#123;creatTime&#125;</span><br><span class="line">                              )</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="6、后端三层架构示例"><a href="#6、后端三层架构示例" class="headerlink" title="6、后端三层架构示例"></a>6、后端三层架构示例</h2><h3 id="持久层和实体类"><a href="#持久层和实体类" class="headerlink" title="持久层和实体类"></a>持久层和实体类</h3><p>映射数据库字段的实体个人建议使用Lombok代码生成器，这样你在修改字段的时候就不用来回手动生成get set tostring ….. 等方法了。</p>
<p><strong>用法如下</strong>：</p>
<ul>
<li>在你的依赖文件中导入Lombok的依赖坐标。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span></span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>在你idea中的插件商店里边下载Lombok插件，不然代码生成不起作用，切记！！！</li>
<li>在你的实体类里边配置注解，注解具体解释如下：</li>
</ul>
<aside>
✅ @Data 用于生成get set hashCode toString 等方法
@AllArgsConstructor 生成全参数的构造法昂发

<p>@NoArgsConstructor 生成无参数的构造方法</p>
</aside>


<p><img src="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251753579.png" class="lazyload" data-srcset="https://dream-chaser.oss-cn-beijing.aliyuncs.com/hexo-blog/202401251753579.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>
<p>通过上图就可以发现，在单独写了实体字段的情况下，通过注解就可以自动生成代码。</p>
<p><strong>持久层的接口</strong>：这里以新增数据的某个接口示例</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 信息登记数据层</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> <span class="variable">zhangsan</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022-08-25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public interface <span class="title class_">StudentMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 新增信息登记</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student 信息登记对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 0 代表新增失败 反之成功</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    int <span class="title function_">insertStudent</span>(<span class="title class_">Student</span> student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>对应的mapper（由于新增字段有点多，没有使用mybatis的注解来写sql）</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.cxsw.rms.repository.StudentMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 这里的student是我在mybtais中配置的别名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertStudent&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;student&quot;</span>&gt;</span></span><br><span class="line">        INSERT INTO STUDENTS (`SID`, `NAME`, NATION, ID_CARD, REGION, EDUCATION, SCHOOL, MAJOR, EDUCATION_TYPE,</span><br><span class="line">                              EMAIL, PHONE, EMPLOYEE_UNIT, REGISTER_BOOK, DIPLOMA, CREAT_TIME) VALUE</span><br><span class="line">                             (</span><br><span class="line">                              #&#123;sid&#125;, #&#123;name&#125;, #&#123;nation&#125;, #&#123;idCard&#125;, #&#123;region&#125;, #&#123;education&#125;, #&#123;school&#125;, #&#123;major&#125;,</span><br><span class="line">                              #&#123;educationType&#125;, #&#123;email&#125;, #&#123;phone&#125;, #&#123;employeeUnit&#125;, #&#123;registerBook&#125;, #&#123;diploma&#125;,</span><br><span class="line">                              #&#123;creatTime&#125;</span><br><span class="line">                              )</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="业务层（由于业务不是很复杂，就是简单的数据处理，所以业务层就是调用持久层的接口返回数据）"><a href="#业务层（由于业务不是很复杂，就是简单的数据处理，所以业务层就是调用持久层的接口返回数据）" class="headerlink" title="业务层（由于业务不是很复杂，就是简单的数据处理，所以业务层就是调用持久层的接口返回数据）"></a>业务层（由于业务不是很复杂，就是简单的数据处理，所以业务层就是调用持久层的接口返回数据）</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *信息填报接口业务逻辑层</span></span><br><span class="line"><span class="comment">*<span class="doctag">@author</span> zhangsan</span></span><br><span class="line"><span class="comment"> *<span class="doctag">@date</span> 2022-08-26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		* 新增信息登记</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@param</span> student 信息登记对象</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@return</span> 0代表新增失败 反之成功</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		String <span class="title function_">insertStudent</span><span class="params">(Student student)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现类：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 信息填报业务层实现</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangsan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022-08-26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">StudentService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StudentMapper studentMapper;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		* 新增信息登记</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@param</span> student信息登记对象</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@return</span> 0代表新增失败 反之成功</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">insertStudent</span><span class="params">(Student student)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">java</span>.util.Date(System.currentTimeMillis()).getTime());</span><br><span class="line">        student.setCreatTime(date);</span><br><span class="line">        studentMapper.insertStudent(student);</span><br><span class="line">        List&lt;Student&gt; students = studentMapper.listStudents(student.getName(), <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setUsername(student.getName());</span><br><span class="line">        user.setSid(students.get(<span class="number">0</span>).getSid());</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> userMapper.updateUserForeignKey(user);</span><br><span class="line">        <span class="keyword">if</span>(res == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;新增失败&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;新增成功&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="控制层"><a href="#控制层" class="headerlink" title="控制层"></a>控制层</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 信息填报接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangsan</span></span><br><span class="line"><span class="comment"> * date 2022-08-26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StudentService studentService;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		* 新增信息填报接口</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@param</span> student 学生对象</span></span><br><span class="line"><span class="comment">		* <span class="doctag">@return</span> result 对象</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">	<span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">createStudentList</span><span class="params">(<span class="meta">@RequestBody</span> Student student)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(student == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">500</span>, <span class="string">&quot;上报信息不全&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> studentService.insertStudent(student);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">200</span>, <span class="string">&quot;操作成功&quot;</span>, msg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>✅ 😁这就完成后端的一个接口了，紧接着测试完就可以将接口交给前端了，在这里，个人建议写接口写类的时候一定要写好 <strong>javadoc 文档注释</strong>，这样方便后来者查看，我写代码的时候一定会这样想：<strong>代码是写给别人看的，不是写给自己看的，所以一定要简洁明了</strong>。</p>
<h2 id="7、前端使用接口"><a href="#7、前端使用接口" class="headerlink" title="7、前端使用接口"></a>7、前端使用接口</h2><p>✅ 前端我使用的是axios发送请求，并对请求做了简单封装。</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="comment">// message 是自己对element-ui总的消息提示框进行的封装，防止其重复弹出</span></span><br><span class="line"><span class="keyword">import</span> &#123; message &#125; <span class="keyword">from</span> <span class="string">&quot;@/util/message&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拦截响应</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!response?.<span class="property">data</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">const</span> res = response.<span class="property">data</span>;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">code</span> !== <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="title function_">message</span>(&#123;</span><br><span class="line">                <span class="attr">message</span>: res.<span class="property">msg</span> || <span class="string">&#x27;请求出错，请重试&#x27;</span>,</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">                <span class="attr">duration</span>: <span class="number">1500</span>,</span><br><span class="line">                <span class="attr">onClose</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="comment">// 消息框退出时需要处理的逻辑</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">message</span>(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;请求出错，请重试&quot;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 返回错误</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 封装请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">request</span> = <span class="keyword">async</span> (<span class="params">&#123; url, method, data, headers &#125;</span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> type = method.<span class="title function_">toLocaleUpperCase</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">getRequest</span>(url, data, res, rej)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">postRequest</span>(url, data, headers, res, rej)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;PUT&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">putReqeust</span>(url, data, res, rej)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">deleteRequest</span>(url, res, rej)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// get 请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getRequest</span> = (<span class="params">url, datas, res, rej</span>) =&gt; &#123;</span><br><span class="line">    axios.<span class="title function_">get</span>(url, &#123; <span class="attr">params</span>: datas &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">res</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">rej</span>(error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// put 请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">putReqeust</span> = (<span class="params">url, datas, res, rej</span>) =&gt; &#123;</span><br><span class="line">    axios.<span class="title function_">put</span>(url, datas).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">res</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">rej</span>(error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// delete 请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteRequest</span> = (<span class="params">url, res, rej</span>) =&gt; &#123;</span><br><span class="line">    axios.<span class="title function_">delete</span>(url).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">res</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">rej</span>(error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// post请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">postRequest</span> = (<span class="params">url, datas, headers, res, rej</span>) =&gt; &#123;</span><br><span class="line">    axios.<span class="title function_">post</span>(url, datas, headers).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">res</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">rej</span>(error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure>

<p><strong>message的封装如下：</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Message</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> messageInstance = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// 防止重复弹出消息提示</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">resetMessage</span> = (<span class="params">options</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (messageInstance) &#123;</span><br><span class="line">        messageInstance.<span class="title function_">close</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    messageInstance = <span class="title class_">Message</span>(options)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> tipType = [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;info&quot;</span>, <span class="string">&quot;success&quot;</span>, <span class="string">&quot;warning&quot;</span>];</span><br><span class="line">tipType.<span class="title function_">forEach</span>(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">    resetMessage[type] = <span class="function"><span class="params">options</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">            options = &#123;</span><br><span class="line">                <span class="attr">message</span>: options</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        options.<span class="property">type</span> = type</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">resetMessage</span>(options)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> message = resetMessage</span><br></pre></td></tr></table></figure>

<p>在 src 下构建目录 api 用于统一管理接口：</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/util/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// * 新增信息登记</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addStudnetMsg</span> = (<span class="params">data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;/api/student&quot;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">        data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在相应的页面中调用接口：</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入 api</span></span><br><span class="line"><span class="keyword">import</span> &#123; updateStudentMsg, addStudnetMsg &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/student&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 表单提交方法</span></span><br><span class="line">        <span class="title function_">submitForm</span>(<span class="params">formName</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$refs</span>[formName].<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (valid) &#123;</span><br><span class="line"></span><br><span class="line">										 <span class="comment">// 根据你实际的页面 调用接口</span></span><br><span class="line">                    <span class="keyword">const</span> formMethod = <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">sid</span> ? updateStudentMsg : addStudnetMsg;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">region</span> = <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">region</span>[<span class="number">0</span>] + <span class="string">&quot;-&quot;</span> + <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">region</span>[<span class="number">1</span>] + <span class="string">&quot;-&quot;</span> + <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">region</span>[<span class="number">2</span>]</span><br><span class="line">                    <span class="title function_">formMethod</span>(<span class="variable language_">this</span>.<span class="property">ruleForm</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (data?.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">                            <span class="title function_">message</span>(&#123;</span><br><span class="line">                                <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">                                <span class="attr">message</span>: data.<span class="property">msg</span>,</span><br><span class="line">                                <span class="attr">duration</span>: <span class="number">1500</span>,</span><br><span class="line">                                <span class="attr">onClose</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                                    <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">registerBook</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                                    <span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">diploma</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                                    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">                                    <span class="comment">// 更新用户信息</span></span><br><span class="line">                                    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">ruleForm</span>.<span class="property">sid</span>) &#123;</span><br><span class="line">                                        <span class="keyword">let</span> params = &#123; <span class="attr">username</span>: sessionUtils.<span class="title function_">get</span>(<span class="string">&#x27;token&#x27;</span>).<span class="property">username</span> &#125;;</span><br><span class="line">                                        <span class="title function_">listUsers</span>(params).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">                                            <span class="keyword">if</span> (data?.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">                                                data.<span class="property">data</span>[<span class="number">0</span>].<span class="property">password</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                                                sessionUtils.<span class="title function_">set</span>(<span class="string">&quot;token&quot;</span>, data.<span class="property">data</span>[<span class="number">0</span>], <span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">6</span>)</span><br><span class="line">                                                <span class="comment">// 将数据存储到vuex中</span></span><br><span class="line">                                                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;userInfo/getUserInfo&quot;</span>, data.<span class="property">data</span>[<span class="number">0</span>]);</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;)</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br></pre></td></tr></table></figure>

<p>😜至此，一个接口通了。</p>
<h2 id="8、源码地址"><a href="#8、源码地址" class="headerlink" title="8、源码地址"></a>8、源码地址</h2><p>前端gitee地址：<a href="https://gitee.com/wenjingxin/rms.git">https://gitee.com/wenjingxin/rms.git</a></p>
<p>后端gitee地址：<a href="https://gitee.com/wenjingxin/ssm.git">https://gitee.com/wenjingxin/ssm.git</a></p>
<p>😁 分享不易，希望多多支持 🤝</p>
]]></content>
      <categories>
        <category>编程艺术</category>
      </categories>
      <tags>
        <tag>前后端分离</tag>
      </tags>
  </entry>
  <entry>
    <title>或许世人道你轻狂，可你本就年少啊！</title>
    <url>/2023/07/17/%E6%88%96%E8%AE%B8%E4%B8%96%E4%BA%BA%E9%81%93%E4%BD%A0%E8%BD%BB%E7%8B%82%EF%BC%8C%E5%8F%AF%E4%BD%A0%E6%9C%AC%E5%B0%B1%E5%B9%B4%E5%B0%91%E5%95%8A%EF%BC%81/</url>
    <content><![CDATA[<p>作为年轻的00后，看护好我们自己的激情更理想，的确很重要，因为我们知道终将有一天都会消磨。<br>我们或许太早看到过自己不曾到达的世界，这或许是一种幸福，也或许是一种悲哀。</p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>探索</title>
    <url>/2023/05/02/%E6%8E%A2%E7%B4%A2/</url>
    <content><![CDATA[<p>永远不要丧失探索的欲望！</p>
<p>生命不息，探索不止。年轻人应当如此！</p>
<p>最后，引用一句大佬的话，送给看到这句话的朋友：</p>
<blockquote>
<p>我认为，应该放弃那些虚有其表的东西，追求真实的生活。荣誉和面子都不应该成为你关心的重点。你要关注的是，你在未来的3~4年里能够做些什么，以及你已经做了哪些事情。我们这个行业与其他行业不同，你可能需要一个好的笔记本电脑、一个好的键盘和一个健康的身体。此外，你需要一个稳固的探索心态，并且不断努力跳出思维定式。这才是成功的关键。</p>
</blockquote>
]]></content>
      <categories>
        <category>随笔记录</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>技术和浪漫</title>
    <url>/2023/07/01/%E6%8A%80%E6%9C%AF%E5%92%8C%E6%B5%AA%E6%BC%AB/</url>
    <content><![CDATA[<p>如果技术是星辰大海，代码就是这个时代最浪漫的诗。</p>
<p>诗人用诗歌传情，画家用绘画表意，</p>
<p>而千万行代码和跨越山海的链接在键盘上留下的余温，</p>
<p>是程序员内心最深处独有的浪漫主义。</p>
<p>😁</p>
]]></content>
      <categories>
        <category>随笔记录</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>普通本科的四年大学教育，给我带来了什么？</title>
    <url>/2023/09/10/%E6%99%AE%E9%80%9A%E6%9C%AC%E7%A7%91%E7%9A%84%E5%9B%9B%E5%B9%B4%E5%A4%A7%E5%AD%A6%E6%95%99%E8%82%B2%EF%BC%8C%E7%BB%99%E6%88%91%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
    <content><![CDATA[<p><img src="https://www4.bing.com//th?id=OHR.NorthSeaStairs_ZH-CN7044471948_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp&w=920&h=520" class="lazyload" data-srcset="https://www4.bing.com//th?id=OHR.NorthSeaStairs_ZH-CN7044471948_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp&w=920&h=520" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" />从刚开始踏入校园时的迷茫懵懂，到如今毕业快要离开学校，心境发生了很大变化。这些变化源于成长的每个过程，既有收获的喜悦，也有失去的无奈。大学生活也是充满了很多遗憾，既有爱情必修课的不合格，也有学业的欠缺、知识体系的不完整。<strong>但是人生难免有遗憾，有遗憾的人生或许更加完整</strong>。</p>
<p>2019年初秋，来到交大报道，四年后的盛夏，我毕业了。再次回想起四年的大学生活，既有不舍又有遗憾。刚进入大学，对身边的一切事物感觉很新鲜，和别人一样，加入社团、团委，认真完成学习任务，评优拿奖学金，第一学期，像一个普通的大学生度过了一学期，之后进入了疫情时代，正常的大学生活断断续续的复现，经常会出现封校的情况。时势使然，可能是我们这一代大学生要经历的一个特殊时期吧。大学第一年结束后，对着成绩单看了一下，成绩还行，但是我也从那时候开始思考自己大学毕业后要干什么，自己真正喜欢的东西是什么。我不能总沉浸在成绩的世界里吧，以那种传统观念上的好学生作为追求目标吧，况且自己和身边的同龄人相比也没有什么特长，我不甘心做一个考试机器，顺着培养计划走下去。或许大学有位老师说过，不知道自己要去做什么的时候，跟随大流往往是正确的。可是我好像没有听进去，<strong>好比有人告诉我山的对面没有海，而我偏不相信，非要爬上山，看看山的对面到底有没有海，而事实是山的对面确实没有海。但是爬山的人一定是失败的吗？人们往往比较在意事物的结果，以成败论英雄，但是过程同样很重要，只不过是在这个快节奏的时代，人们往往忽略其存在的意义。</strong></p>
<p>我三观上的变化最早源于大一的暑假。那个暑假和一个老乡一起做家教，那是第一次以一名小老师的身份站在讲台上给初中生上课，我自己也尽我所能的去备课、讲课，也遇到了一帮特别活泼的初中生。那时候一声“老师”真的让人很沉浸留恋，内心的责任感油然而生。那一段时间，独自租房，每天坐着公交去做家教，忙完后自己瞎折腾一些小副业，过的很充实。也是那时候，体会到生活的不容易，有被别人催着交房租的月末，有精打细算的每日支出，也有从公交车上看到的社会生活百态，更有家教期间的一些小教训，自己慢慢意识到挣钱的不容易，体会到父母的艰辛。也是那时候，想到了毕业之后的我是不是和现在一样为生活和米而奔波，被别人当作廉价劳动力，每次想到这些，内心甚是不甘。</p>
<img src="https://dogefs.s3.ladydaily.com/~/source/unsplash/photo-1688560722687-7d4d5fb8ff8f?ixid=M3w0MjI2NjN8MHwxfHRvcGljfHxhZXU2ckwtajZld3x8fHx8Mnx8MTY5NDMxNDc4MHw&ixlib=rb-4.0.3&w=900&h=500&fmt=webp" class="lazyload" data-srcset="https://dogefs.s3.ladydaily.com/~/source/unsplash/photo-1688560722687-7d4d5fb8ff8f?ixid=M3w0MjI2NjN8MHwxfHRvcGljfHxhZXU2ckwtajZld3x8fHx8Mnx8MTY5NDMxNDc4MHw&ixlib=rb-4.0.3&w=900&h=500&fmt=webp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" />

<p>转折点可能源于无意间看到的一个Java开发工程师招聘吧，当时的我可能不太会关注一些招聘要求吧，满眼看到的是月薪五位数的工资吧，后边顺藤摸瓜，看到了好多这种岗位的薪资，于是内心萌生了学习Java的念头，大一期间曾经有学习过C# 的经历，当时还报过一个期末补习班，稍微学了点东西，想着有这个基础，就自己自学了一段时间Java，后边发现效果不怎么好，就加入了一个当地的软件培训机构，虽然价钱很贵，但是确实把我带入门了。关于这种软件开发培训公司，我不多做评价，确实感谢那些培训老师带我入门Java，但是后续他们并没有教给我太多的东西。入门之后的我，慢慢喜欢上了软件开发，脑子里有各种奇奇怪怪的想法去践行，为了这些个人需求，开始延伸个人技术栈，自学较为系统的前端开发，然后慢慢的了解服务器的相关知识，也开始接触数据结构与算法。大二那个暑假，自己又一个人租了房子，每天写至少八个小时都在看代码写代码、解决bug，虽然过的很充实，但是不可否认的是，过程真的很枯燥，那个暑假也是我技术提升最快的时候，而我的心境也慢慢改变，看待问题、思考问题的角度也发生了变化。最重要的是我自学能力的提升，尤其对于软件开发技术的学习。那一段时间，让我感触最多的是一定要主动去学习各种先进的企业开发技术，不能坐等别人的建议和教授，所以我当时的学习进度已经远超同批培训的学员了。或许当时我们刚参加培训的时候，水平大抵都一样吧，我可能是更加差劲的那个，但是最后技术为什么得以提升，最重要的原因是认识到了自己和那些真正的大佬之间的差距，知耻而后勇，增强自己的软件开发能力才是王道，同时也希望自己能够折腾出哪些新奇的个人软件。<strong>也是这时候，给自己制定了一个目标，毕业设计一定会做有关交通背景的软件，不会去做道路优化之类的课题，以此见证我自学软件开发的一个成果吧！</strong></p>
<p>大三这一学年，可以说是很幸运的一年，但也算是自己撞南墙，开始认识自我职业生涯的一个过程。为了大三结束后的秋招，我当时大三刚开学可能就开始朝着企业招聘的那个技术栈查缺补漏，继续学习Java相关的技术栈，当时也不断在学习一些Node.js 相关的技术栈，当时的自己，给自己是朝着全栈的方向学习吧，前后端我都要学，现在回想起来，可能我对全栈的理解还是太过于简单了吧，但后来幸有良师指导，为我指正了方向。后来越学习Java越感觉其相关技术栈太多了，好多中间件，数据库设计思想、工作流、分布式架构设计、微服务技术都没学完，一看到哪些招聘，焦虑不断充斥着整个人，感觉自己找到一份好的工作无望了，都想去做参加前端工程师的招聘了。但是自己更加偏爱后端开发，可能是因为后端投入的时间更多吧，也或许是后端的代码更加有逻辑，前途和钱途更加光明吧！</p>
<p>2022年上半年，虎年的开始，病猫般的我终遇伯乐赏识，可能是看到我这个病猫有几分虎相吧！哈哈，调侃一下当时的际遇吧。毕竟那一年辗转好多次，希望能从一些老师手中接到一些项目，即使是无偿做，也没有人认可，内心当然很失望，究其根本，自然是个人的技术履历不足。从那之后，内心萌生了技术强者的想法，追求技术的提升永远在我内心烙下了深刻的印迹。这一点，此后永不会改变。有时候，努力不一定会成功，但不努力什么也得不到，这是必然的。<strong>但是，有一点是毋庸置疑的，当你足够努力的时候，再加上一定的自我营销，运气可能会降临到你的身上</strong>。而我也很幸运，得到了老师的认可，当时将整个前端开发的任务交给了我，虽然我的老本行是后端，但是这已经是求之不得的机会了，自然要全力以赴，对每一个需求要认真对待，完成系统的开发任务。现在回想起来，这次经历带给了我很多的成长，我不在只关心技术，业务和技术两者的关系逐渐深入我心。同时也不能埋头乱干，写代码前一定要考虑清楚需求、使用过程中的安全以及代码是否优雅。对于代码优雅这一点，我内心其实很虚，如果是 Java 代码，我会非常考虑代码的一个整洁和优雅以及易读性，但是对于前端代码我发现自己还没有到达到那个入微境界，回调函数，无尽的if else 让我我有点失措，无法好好组织好代码，虽然功能正常使用，但是自己回过头来再看自己的代码，不禁会反问自己，这是我写的代码？有时候实在乱的看不下去了就会重新梳理这段代码。其实不的不承认，自己的代码洁癖还是有点严重的，准确的说是强迫症，这是被当时培训班的一个老师影响的，久而久之，自己对Java代码的排版就特别注重，参数和参数之间一定会加一个空格，方法和方法体一定是留有四个空格的，能直接return出对象就不会用两行代码先new 在return ……总之，这些习惯于我而言都是好的。但是反过来看到前端代码组织的这么差劲，内心就会充斥极大的反差。这次经历，也让我对代码的一个整洁有了一定的思考，面对 Vue2 选项式的代码组织方式，让我在以后的前端开发中一定会使用解耦性的框架，比如Vue3，React就很不错，代码的组织更具逻辑性。<strong>除此之外，我认为个人软实力也很重要，要想成为一名优秀的开发者，与人沟通交流的技能是必不可缺的，这不仅影响一个团队的工作效率，而且还决定了个人以后的一个发展。</strong>有时候你的知识储备、阅历没有达到一定程度，你和别人都不会交流，所以，我对自己的一个要求就是，多读书，读好书。我的阅读书籍类型不应只停留于技术书籍和技术博客以及技术文档这些内容，<strong>不能一心只读“圣贤书”，两耳不闻“窗外事”。</strong>多读一些经典小说、文学巨著、哲学书籍对个人后续的帮助很大，这些影响在长时间的坚持下会对自己带来很大改变。其实，一些常见的软件开发技术其中便暗含哲学思想，比如组件化的开发形式就是分而治之，其实这些自然科学里边包含了好多社会科学的知识，尤其面向对象的编程思想，特别和现实生活中的一些东西非常贴合。<strong>所以，广泛化的阅读和针对性的阅读对一个人的成长特别重要，这会促使你更好的理解和沟通这个世界，这也许就是学编程时的第一行代码“Hello world ！”所代表的含义吧！</strong></p>
<img src="https://dogefs.s3.ladydaily.com/~/source/unsplash/photo-1618171889969-0feeb769fe78?ixid=M3wyNjY4NDZ8MHwxfHRvcGljfHxhZXU2ckwtajZld3x8fHx8Mnx8MTY5NDc3MzkyOHw&ixlib=rb-4.0.3&w=700&h=500&fmt=webp" class="lazyload" data-srcset="https://dogefs.s3.ladydaily.com/~/source/unsplash/photo-1618171889969-0feeb769fe78?ixid=M3wyNjY4NDZ8MHwxfHRvcGljfHxhZXU2ckwtajZld3x8fHx8Mnx8MTY5NDc3MzkyOHw&ixlib=rb-4.0.3&w=700&h=500&fmt=webp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" />


<p>很快时间就来到了2022年的下半年，秋招到了，疫情自然也不会缺席，线上面试成了当时找工作的标配。我自己当时的想法很简单，认为在软件公司工作三年比读研带给我的成长更多，毅然不听老师们的建议，在别人复习考研的时候自己钻研Java。其实当时最大的弊病就是没有刷足够多的算法题，笔试上的算法题目让我手足无措，有些好公司的技术面试我都没进去。但是一番海投之后，还是有公司发来邀请面试，最后还是拿到了三份offer，但是工资差异特别大，我逐渐对整个互联网行业的薪资体系，工作压力有了更近一步的了解，所有事情不是我想的那么简单，一般的小型互联网公司怎么会注重员工的发展呢，大厂都那样，我竟然指望小厂，我进去无非就是一个劳动密集型，三五年过去了，想要技术影响力，那样的概率会有多大，自己心里有数，而且加上当时最终签合同的时候，武汉的某家公司给我突然降薪了，我真是醉了，顶着那么大的工作压力（早八晚六，周内晚上有两到三次的加班时间，差不多两个半小时，周六保证不休息，周日休息不保证）你给我降薪，真是把我招过去当牛马了！所幸最后还有春招，我想要不还是等春招吧。其实我当时找工作的一个标准就是一定不会留到兰州，在兰州这儿做软件开发我肯定会错过很多很多东西，那些互联网氛围很浓的城市虽然压力大，但是得到的提升肯定也会很大。当时的一个转折点在于交科赛（全国大学生交通运输科技大赛），其实参加过后感觉也没什么，但是那一次算是我与学术相关的东西距离最近的一次吧，自我学软件开发起，我就想着如何把我的本专业和计算机怎么结合起来，这个问题一直困惑着我，但就是这次的交科赛课题让我初次将交通问题通过交通理论和软件开发技术进行改善。虽然整个作品不是很完整，但是核心观念以及可行性还是有的。这次交科赛之后，坚定了我考研的决心，虽然比别人晚了一年，<strong>但是我不会为我自己过去所做的决定而感到后悔，至少知道自己这三到五年内要做点什么事，以后成为什么样的人，从事什么样的职业。</strong>也算是不撞南墙不回头吧，但最终自己对于交通和计算机的结合也有了自己的一个认识，<strong>扬长避短方能为自己争取更大的优势</strong>。随着毕业答辩的顺利结束，也为自学软件开发这一旅程画上了句号，自己的执念也得到了结果，同时我也由一名学生的身份转换成了“无业游民”。</p>
<p>大学本科四年，现在回想起来，还是有很多事情没有完成，留下了很多遗憾。但是这四年来的所有经历对于我个人而言，及其宝贵。我们无法决定周围的环境（不得不承认，身处的这个环境让人很“迷惑”，哈哈，那就让自己做一个装疯卖傻的清醒者吧，糊涂便是快乐），但是可以改变自己，对于我这样的普通人来说，读书永远是衡量了时间效益和经济回报两方面更具性价比的一种途径。所有人都在抱怨培养计划，但是为什么不能换另一种方式去看待，这些科目开设之初肯定有自己的原因，我们在保证通过课程的同时不妨根据个人的学习兴趣自由安排自己的时间，把哪些自己感觉无用的课程稍微了解一下，对于自己思维上的启示还是有一定作用的，当然，这是建立在勤于动脑的基础上。当你对这个世界微笑的时候，世界也会对你微笑，所有的事情肯定存在一个可行解，理性分析和看待这些问题才是大学里边我们需要培养的一种意识。<strong>虽然不是每个人都能走自己想走的路，成为自己想成为的人，但是我们还是要珍视内心的声音，尝试着做自己想要的事，成为更好的自己。</strong></p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>杂谈</tag>
      </tags>
  </entry>
  <entry>
    <title>来得及！</title>
    <url>/2023/07/12/%E6%9D%A5%E7%9A%84%E5%8F%8A%EF%BC%81/</url>
    <content><![CDATA[<p> 从小到大，家里的墙上一直挂着一份字画，其中有两句我从小记到大：“孩儿立志出乡门，学不成名终不还”。虽然这句话有点夸大，但是成长悄然无息， 我逐渐在长大，有了自己认为值得去做的事情，慢慢和父母相处的时间也逐渐在缩短，我总是认为来得及，以后一定有时间陪伴父母，但是当我发现母亲眼角的皱纹，慈祥笑容隐藏下的思念后，我内心倍感自责，只是因为学业和自己的目标去忙碌而忽视了身边最亲的人，我想就算最后自认为很充实，但也极其愚蠢。重要的事情是有很多，但是对亲人的陪伴也很重要，自己这种认为一切来得及的念头更加无知愚昧，有些事情是不能拖，但陪伴父母、孝顺父母更不能拖！</p>
]]></content>
      <categories>
        <category>随笔记录</category>
      </categories>
      <tags>
        <tag>亲情</tag>
      </tags>
  </entry>
  <entry>
    <title>浅谈前端发展史</title>
    <url>/2023/10/18/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E5%8F%B2/</url>
    <content><![CDATA[<h2 id="一、前端的发展历史"><a href="#一、前端的发展历史" class="headerlink" title="一、前端的发展历史"></a>一、前端的发展历史</h2><p><strong>石器时代：</strong></p>
<ul>
<li>1990 年，第一个 Web 浏览器诞生了。这是前端这个技术的起点，代表这一年它出生了。后面的时间里，前端圈有很多里程碑事件。</li>
<li>1994 年，网景公司发布第一个商业浏览器 Navigator。</li>
<li>1995 年，网景工程师 Brendan Eich 用 10 天时间设计了 JavaScript，同年微软发布了 IE 浏览器，进而掀起了浏览器大战。</li>
<li>2002 年，IE 在浏览器大战中赢得胜利，IE6 占有率超过 96%</li>
</ul>
<p>而前端的发展历史，又非常直观地显示在你看到的前端网页的演变历史中。整个 90 年代，受限于网速，网页都是静态页，显示非常单一，前端的工作大部分都只是让美工来切切图和写写 <code>HTML+CSS</code>。也因此，在 90 年代，前端还处在一种萌发期的状态，前端工程师这一工种也没有明确出现。</p>
<p>再后来，后端越来越复杂，开始分层。就像在小公司里，大家啥都干，但公司规模大了之后，就要分部门，职责明确，代码也从揉在一起发展到 Model，View 和 Controller，分别负责不同的功能。</p>
<p><strong>这就是后端 MVC 模式的盛行，让我们可以在模板里写上要展现的数据。以前的代码都是所有内容写在一起，现在就会用 Model 负责数据。</strong></p>
<p>所以这个时代的网页主要还是以显示数据和简单的特效为主，比如当时众多的门户网站，也都没有太多的用户交互，主要就是显示后端存储的新闻。</p>
<p>直到 2004 年，Google 发布了 Gmail，用户可以在不刷新页面的情况下进行复杂的交互，之后，Ajax 逐渐成为网页开发的技术标准，也不断地被应用于各种网站。<strong>Ajax 这个技术让我们可以异步的获取数据并且刷新页面，从此前端不再受限于后端的模板，这也宣告了 Web2.0 时代正式到来。</strong>至此，前端工程师也正式作为一个独立工种出现。</p>
<p><strong>铁器时代</strong>:</p>
<p>在 Gmail 诞生后，虽然依然有浏览器的混战和兼容性问题，比如绑定事件不同的浏览器就要写不同的代码，但大家意识到前端也可以做出复杂应用。而 jQuery 的出现迅速风靡全球，一个 $ 走天下，学会 jQuery 就等同于学会了前端，算是前端车同轴的时代。在这之后，前端的具体开发不再被 JavaScript 的兼容性问题所困扰。</p>
<p>那个时候 jQuery+Bootstrap 一把梭，成为了前端开发领域的主流技术，前端代码内嵌在后端的项目中，写完直接发布，通篇都是如下的代码：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&#x27;#alert-btn&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  $(<span class="string">&#x27;#app .input&#x27;</span>).<span class="title function_">val</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>那个时候写代码，就是找到某个元素，进行 DOM 操作，特别像铁器时代的拼刺刀，随着前端项目规模的逐渐提升，前端也需要规模化的时候，在 2009 年 AngularJS 和 Node.js 的诞生，也宣告前端工业革命的到来。</p>
<p><strong>工业时代:</strong></p>
<p>AngularJS 的诞生，引领了前端 MVVM 模式的潮流；Node.js 的诞生，让前端有了入侵后端的能力，也加速了前端工程化的诞生。现在前端三大框架 Angular、React、Vue 的发展主线，也就是从这里开始的。</p>
<p>所谓 MVVM，就是在前端的场景下，把 Controller 变成了 View-Model 层，作为 Model 和 View 的桥梁，Model 数据层和 View 视图层交给 View-Model 来同步。</p>
<h2 id="二、前端三大框架："><a href="#二、前端三大框架：" class="headerlink" title="二、前端三大框架："></a>二、前端三大框架：</h2><p>在前端 MVVM 模式下，不同框架的目标都是一致的，就是利用数据驱动页面，但是怎么处理数据的变化，各个框架走出了不同的路线。</p>
<img src="https://static001.geekbang.org/resource/image/b0/93/b0402b9e1b4cb22877fcffb8b43d0193.jpg?wh=1208x678" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/b0/93/b0402b9e1b4cb22877fcffb8b43d0193.jpg?wh=1208x678" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:40%;border-radius:10px">

<p>这些框架要回答的核心问题就是，数据发生变化后，我们怎么去通知页面更新。各大框架在这个步骤上，各显神通：</p>
<p>Angular 1 就是最老套的脏检查。所谓的脏检查，指的是 Angular 1 在对数据变化的检查上，遵循每次用户交互时都检查一次数据是否变化，有变化就去更新 DOM 这一方法。这个方法看似简单粗暴，但算是数据驱动页面早期的实现，所以一经推出，就迅速占领了 MVVM 市场。</p>
<p>后面 Angular 团队自断双臂，完全抛弃 Angular 1，搞了一个全新的框架还叫 Angular，引入了 TypeScript、RxJS 等新内容，虽然这些设计很优秀，但是不支持向前兼容，抛弃了老用户。这样做也伤了一大批 Angular 1 用户的心，包括我。这也是 Angular 这个优秀的框架现在在国内没有大面积推广的原因。</p>
<p>而 Vue 1 的解决方案，就是使用响应式，初始化的时候，Watcher 监听了数据的每个属性，这样数据发生变化的时候，我们就能精确地知道数据的哪个 key 变了，去针对性修改对应的 DOM 即可，这一过程可以按如下方式解构：</p>
<img src="https://static001.geekbang.org/resource/image/c8/0b/c8f234a40e63dbf86809f6885714b10b.jpg?wh=2540x1441" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/c8/0b/c8f234a40e63dbf86809f6885714b10b.jpg?wh=2540x1441" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:20%;">

<p>在上图中，左边是实际的网页内容，我们在网页中使用 <code>&#123;&#123;&#125;&#125;</code> 渲染一个变量，Vue 1 就会在内容里保存一个监听器监控这个变量，我们称之为 Watcher，数据有变化，watcher 会收到通知去更新网页。</p>
<p>通俗来说，如果把网页数据看成你管理的员工，普通数据就是那种每次你都需要找到他，告诉他要怎么做的人，响应式数据就是他本身有任何变化，都会主动给你发日报告诉你的积极员工。</p>
<p>此外，Facebook 的 React 团队提出了不同于上面的 Angular、Vue 的的解决方案，他们设计了 React 框架，在页面初始化的时候，在浏览器 DOM 之上，搞了一个叫虚拟 DOM 的东西，也就是用一个 JavaScript 对象来描述整个 DOM 树。我们可以很方便的通过虚拟 DOM 计算出变化的数据，去进行精确的修改。</p>
<p>我们先看 react 中的一段代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id = <span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span> = <span class="string">&quot;item&quot;</span>&gt;</span>Item1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;item&quot;</span>&gt;</span>Item2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>在 React 中，这样一段 HTML 会被映射成一个 JavaScript 的对象进行描述。这个对象就像数据和实际 DOM 的一个缓存层，通过管理这个对象的变化，来减少对实际 DOM 的操作。</p>
<p>这种形式不仅让性能有个很好的保障，我们还多了一个用 JSON 来描述网页的工具，并且让虚拟 DOM 这个技术脱离了 Web 的限制。因为积累了这么多优势，虚拟 DOM 在小程序，客户端等跨端领域大放异彩。</p>
<p>虚拟 DOM 在运行的时候就是这么一个对象：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  tag<span class="punctuation">:</span> <span class="string">&quot;div&quot;</span><span class="punctuation">,</span></span><br><span class="line">  attrs<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    id<span class="punctuation">:</span> <span class="string">&quot;app&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      tag<span class="punctuation">:</span> <span class="string">&quot;p&quot;</span><span class="punctuation">,</span></span><br><span class="line">      attrs<span class="punctuation">:</span> <span class="punctuation">&#123;</span> className<span class="punctuation">:</span> <span class="string">&quot;item&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;Item1&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      tag<span class="punctuation">:</span> <span class="string">&quot;div&quot;</span><span class="punctuation">,</span></span><br><span class="line">      attrs<span class="punctuation">:</span> <span class="punctuation">&#123;</span> className<span class="punctuation">:</span> <span class="string">&quot;item&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;Item2&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>这个对象完整地描述了 DOM 的树形结构，这样数据有变化的时候，我们生成一份新的虚拟 DOM 数据，然后再对之前的虚拟 DOM 进行计算，算出需要修改的 DOM，再去页面进行操作。</p>
<p>浏览器操作 DOM 一直都是性能杀手，而虚拟 DOM 的 Diff 的逻辑，又能够确保尽可能少的操作 DOM，这也是虚拟 DOM 驱动的框架性能一直比较优秀的原因之一。</p>
<img src="https://static001.geekbang.org/resource/image/b2/b4/b262c52d5c353008715003fa263403b4.jpg?wh=1970x1445" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/b2/b4/b262c52d5c353008715003fa263403b4.jpg?wh=1970x1445" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:25%">

<h2 id="三、vue-和-react-框架的对比"><a href="#三、vue-和-react-框架的对比" class="headerlink" title="三、vue 和 react 框架的对比"></a>三、vue 和 react 框架的对比</h2><p>通过上面对前端三大框架的介绍，我们不难发现 Vue 和 React 在数据发生变化后，在通知页面更新的方式上有明显的不同，通俗的来说，就是：<strong>在 Vue 框架下，如果数据变了，那框架会主动告诉你修改了哪些数据；而 React 的数据变化后，我们只能通过新老数据的计算 Diff 来得知数据的变化。</strong></p>
<p>这两个解决方案都解决了数据变化后，如何通知页面更新的问题，并且迅速地获得了很高的占有率，但是他们都碰到了性能的瓶颈：</p>
<ul>
<li>对于 Vue 来说，它的一个核心就是“响应式”，也就是数据变化后，会主动通知我们。响应式数据新建 Watcher 监听，本身就比较损耗性能，项目大了之后每个数据都有一个 watcher 会影响性能。</li>
<li>对于 React 的虚拟 DOM 的 Diff 计算逻辑来说，如果虚拟 DOM 树过于庞大，使得计算时间大于 16.6ms，那么就可能会造成性能的卡顿。</li>
</ul>
<p>为了解决这种性能瓶颈， Vue 和 React 走了不同的道路。</p>
<p>React 为了突破性能瓶颈，借鉴了操作系统时间分片的概念，引入了 Fiber 架构。通俗来说，就是把整个虚拟 DOM 树微观化，变成链表，然后我们利用浏览器的空闲时间计算 Diff。一旦浏览器有需求，我们可以把没计算完的任务放在一旁，把主进程控制权还给浏览器，等待浏览器下次空闲。</p>
<p>这种架构虽然没有减少运算量，但是巧妙地利用空闲实现计算，解决了卡顿的问题。你可以看一下图解：</p>
<img src="https://static001.geekbang.org/resource/image/27/23/27dbe22e81ccc1cec8b35b4ee0a06f23.jpg?wh=2796x1564" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/27/23/27dbe22e81ccc1cec8b35b4ee0a06f23.jpg?wh=2796x1564" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:22%">

<p>在上图中，左侧是一个树形结构，树形结构的 Diff 很难中断；右侧是把树形结构改造成了链表，遍历严格地按照子元素 -&gt; 兄弟元素 -&gt; 父元素的逻辑，随时可以中断和恢复 Diff 的计算过程。</p>
<p>为了方便你对计算 Diff 的理解，我们来看下面这张图：</p>
<img src="https://static001.geekbang.org/resource/image/22/6f/22b7606230e2920584387249a83db36f.jpg?wh=2358x806" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/22/6f/22b7606230e2920584387249a83db36f.jpg?wh=2358x806" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:25%">

<p>这个图里两个虚线之间是浏览器的一帧，高性能的动画要求是 60fps，也就是 1 秒要渲染 60 次，每一帧的时间就是 16.6 毫秒，在这 16.6 毫秒里，浏览器自己的渲染更新任务执行后，会有一部分的空闲时间，这段时间我们就用来计算 Diff。</p>
<p>等到下一帧任务来了，我们就把控制权还给浏览器，让它继续去更新和渲染，等待空闲时间再继续计算，这样就不会导致卡顿。</p>
<p>Vue 1 的问题在于响应式数据过多，这样会带来内存占用过多的问题。所以 Vue 2 大胆引入虚拟 DOM 来解决响应式数据过多的问题。</p>
<p>这个解决方案使用虚拟 DOM 解决了响应式数据过多的内存占用问题，又良好地规避了 React 中虚拟 DOM 的问题， 还通过虚拟 DOM 给 Vue 带来了跨端的能力。</p>
<p><strong>响应式数据是主动推送变化，虚拟 DOM 是被动计算数据的 Diff，一个推一个拉，它们看起来是两个方向的技术，但被 Vue 2 很好地融合在一起，采用的方式就是组件级别的划分。</strong></p>
<p>对于 Vue 2 来说，组件之间的变化，可以通过响应式来通知更新。组件内部的数据变化，则通过虚拟 DOM 去更新页面。这样就把响应式的监听器，控制在了组件级别，而虚拟 DOM 的量级，也控制在了组件的大小。</p>
<p>这个方案也体现了 Vue 一直以来坚持的中庸的设计思想。</p>
<p>下图左边就是一个个的组件，组件内部是没有 Watcher 监听器的，而是通过虚拟 DOM 来更新，每个组件对应一个监听器，大大减小了监听器的数量。</p>
<img src="https://static001.geekbang.org/resource/image/22/51/2237975345b4cf039a6cd733cd5be451.jpg?wh=7731x6528" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/22/51/2237975345b4cf039a6cd733cd5be451.jpg?wh=7731x6528" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:6%;margin: 0 auto">

<p>除了响应式和虚拟 DOM 这个维度，Vue 和 React 还有一些理念和路线的不同，在模板的书写上，也走出了 template 和 JSX 两个路线。</p>
<img src="https://static001.geekbang.org/resource/image/66/0f/669188c294d8e306072ef4273ec2630f.png?wh=1920x635" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/66/0f/669188c294d8e306072ef4273ec2630f.png?wh=1920x635" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:25%">

<p>React 的世界里只有 JSX[[..&#x2F;web&#x2F;vue3&#x2F;jsx 的基本使用]]，最终 JSX 都会在 Compiler 那一层，也就是工程化那里编译成 JS 来执行，所以 React 最终拥有了全部 JS 的动态性，这也导致了 React 的 API 一直很少，只有 state、hooks、Component 几个概念，主要都是 JavaScript 本身的语法和特性。<br>关于vuex 在react 中的具体使用查看此篇：[[..&#x2F;web&#x2F;react&#x2F;01-jsx]]</p>
<p>而 Vue 的世界默认是 template，也就是语法是限定死的，比如 v-if 和 v-for 等语法。有了这些写法的规矩后，我们可以在上线前做很多优化。Vue 3 很优秀的一个点，就是在虚拟 DOM 的静态标记上做到了极致，让静态的部分越过虚拟 DOM 的计算，真正做到了按需更新，很好的提高了性能。</p>
<img src="https://static001.geekbang.org/resource/image/64/f9/64e0e2fd877f2d54f4dd97e3dc0b1bf9.png?wh=1334x456" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/64/f9/64e0e2fd877f2d54f4dd97e3dc0b1bf9.png?wh=1334x456" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:35%">

<p>在模板的书写上，除了 Vue 和 React 走出的 template 和 JSX 两个路线，还出现了 Svelte 这种框架，没有虚拟 DOM 的库，直接把模板编译成原生 DOM，几乎没有 Runtime，所有的逻辑都在 Compiler 层优化，算是另外一个极致。</p>
<img src="https://static001.geekbang.org/resource/image/ba/b9/bae38yye39eyy1609260caf90271cbb9.png?wh=1920x759" class="lazyload" data-srcset="https://static001.geekbang.org/resource/image/ba/b9/bae38yye39eyy1609260caf90271cbb9.png?wh=1920x759" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="zoom:25%">

<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>1了解了前端 MVVM 框架发展的历史和方向后，相信你脑海里已经建立起了一个前端框架发展的地图，每个框架都在探索自己的路线。后面还会涌现出更多优秀的框架，我们到时候只需要把那个框架纳入到这个地图中去理解，这样你很快就明白这个框架做了什么，而这也是很多前端大神能够快速学习一个新框架的主要原因。</p>
<p>浏览器的诞生让我们可以方便地显示文本和图片的内容和样式；JavaScript 的出现让网页动了起来；Gmail 的发布，宣告前端也可以使用 Ajax 异步加载技术，来进行复杂网页的开发，前端工程师这个工种也正式出现了。随着浏览器厂商的混战，各个浏览器都有自己的特色，jQuery 框架的出现统一了写法，解决了那个时代最棘手的前端问题：兼容性，极大提高了开发者的效率。</p>
<p>随着 Angular 1 的诞生，我们多了一套开发模式，就是数据驱动页面。我们甚至不再需要使用 jQuery 去寻找 DOM，而是只关注数据的来源和修改，这也就是现在我们所处的前端时代。我们所熟悉的 Vue、React、Angular 和 Svelte 等框架，都是在数据驱动页面这个场景下涌现的框架。</p>
<p>相信到这里，你已经大概明白前端的这些框架的风格和特点，以及 Vue 在这些框架中的地位，Vue 3 在 Vue 2 的基础之上做了全面的升级，在性能、扩展性和包的大小上，Vue3 都有质的飞跃。</p>
]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>杂谈</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>深入Java泛型</title>
    <url>/2023/07/18/%E6%B7%B1%E5%85%A5Java%E6%B3%9B%E5%9E%8B/</url>
    <content><![CDATA[<h2 id="一、什么是-Java-的泛型？"><a href="#一、什么是-Java-的泛型？" class="headerlink" title="一、什么是 Java 的泛型？"></a>一、什么是 Java 的泛型？</h2><p>Java的泛型是 jdk1.5 引入的一个新特性，其特点就是将类型进行一个参数化，把类型作为参数传递。<br>一些常见的泛型类型有：</p>
<blockquote>
<p>E 元素（Element），多用于 Java集合框架<br>K 关键字（key）<br>V 值（value）<br>T 类型（Type）<br>N 数字（Number）</p>
</blockquote>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;T,...&gt; <span class="comment">//T称为类型占位符，表示一种引用类型</span></span><br></pre></td></tr></table></figure>
<p>好处：</p>
<ol>
<li>提高代码的重用性</li>
<li>防止类型转换异常，提高代码的安全性</li>
</ol>
<h2 id="二、泛型的常见使用形式"><a href="#二、泛型的常见使用形式" class="headerlink" title="二、泛型的常见使用形式"></a>二、泛型的常见使用形式</h2><h3 id="1、泛型类"><a href="#1、泛型类" class="headerlink" title="1、泛型类"></a>1、泛型类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型类</span></span><br><span class="line"><span class="comment"> * 语法：类名&lt;T&gt;</span></span><br><span class="line"><span class="comment"> * T是类型占位符，表示一种引用类型，如果编写多个使用逗号隔开</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyGeneric</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">//使用泛型T</span></span><br><span class="line">    <span class="comment">//1创建变量</span></span><br><span class="line">    T t;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2作为方法的参数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(T t)</span>&#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3使用泛型作为方法的返回值</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getT</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestGeneric</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//使用泛型类创建对象</span></span><br><span class="line">        <span class="comment">//注意：1 泛型只能使用引用类型 2 不同泛型对象之间不能相互赋值</span></span><br><span class="line">        MyGeneric&lt;String&gt; myGeneric = <span class="keyword">new</span> <span class="title class_">MyGeneric</span>&lt;&gt;();</span><br><span class="line">        myGeneric.t = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        myGeneric.show(<span class="string">&quot;字符串泛型&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> myGeneric.getT();</span><br><span class="line">        System.out.println(string);</span><br><span class="line"></span><br><span class="line">        MyGeneric&lt;Integer&gt; myGeneric2 = <span class="keyword">new</span> <span class="title class_">MyGeneric</span>&lt;&gt;();</span><br><span class="line">        myGeneric2.t = <span class="number">1024</span>;</span><br><span class="line">        myGeneric2.show(<span class="number">65536</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> myGeneric2.getT();</span><br><span class="line">        System.out.println(integer);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">字符串泛型</span><br><span class="line">hello world</span><br><span class="line"><span class="number">65536</span></span><br><span class="line"><span class="number">1024</span></span><br></pre></td></tr></table></figure>


<h3 id="2、泛型接口"><a href="#2、泛型接口" class="headerlink" title="2、泛型接口"></a>2、泛型接口</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型接口</span></span><br><span class="line"><span class="comment"> * 语法：接口名&lt;T&gt;</span></span><br><span class="line"><span class="comment"> * 注意：不能创建泛型静态常量</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MyInterface</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;张三&quot;</span>;</span><br><span class="line"></span><br><span class="line">    T <span class="title function_">server</span><span class="params">(T t)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>泛型接口的实现方式一：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterfaceImpl</span> <span class="keyword">implements</span> <span class="title class_">MyInterface</span>&lt;String&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">server</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>泛型接口的实现方式二：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterfaceImpl2</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">MyInterface</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">server</span><span class="params">(T t)</span> &#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestGeneric</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//泛型接口</span></span><br><span class="line">        <span class="type">MyInterfaceImpl</span> <span class="variable">impl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyInterfaceImpl</span>();</span><br><span class="line">        impl.server(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line">        MyInterfaceImpl2&lt;Integer&gt; impl2 = <span class="keyword">new</span> <span class="title class_">MyInterfaceImpl2</span>();</span><br><span class="line">        impl2.server(<span class="number">1024</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台打印结果：</p>
<blockquote>
<p>hello world<br>1024</p>
</blockquote>
<h3 id="3、泛型方法"><a href="#3、泛型方法" class="headerlink" title="3、泛型方法"></a>3、泛型方法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型方法</span></span><br><span class="line"><span class="comment"> * 语法：&lt;T&gt;返回值类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyGenericMethod</span> &#123;</span><br><span class="line">    <span class="comment">//泛型方法</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">show</span><span class="params">(T t)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;泛型方法&quot;</span> + t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>调用方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestGeneric</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//泛型方法</span></span><br><span class="line">        <span class="type">MyGenericMethod</span> <span class="variable">myGenericMethod</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyGenericMethod</span>();</span><br><span class="line">        myGenericMethod.show(<span class="string">&quot;我的祖国&quot;</span>);</span><br><span class="line">        myGenericMethod.show(<span class="number">123</span>);</span><br><span class="line">        myGenericMethod.show(<span class="number">3.14</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 控制台打印结果：</span></span><br><span class="line"><span class="comment">* 泛型方法我的祖国</span></span><br><span class="line"><span class="comment">* 泛型方法123</span></span><br><span class="line"><span class="comment">* 泛型方法3.14</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3、泛型集合"><a href="#3、泛型集合" class="headerlink" title="3、泛型集合"></a>3、泛型集合</h3><p>概念：参数化类型的集合、类型安全的集合，强制集合元素的类型必须一致。<br>优点：</p>
<ul>
<li>编译时检查，而非运行时抛出异常。</li>
<li>访问时，不必类型转换</li>
<li>不同泛型引用之间不能相互赋值，Java集合中没有</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: wb</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        arrayList.add(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">        arrayList.add(<span class="string">&quot;yyy&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String s : arrayList) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Student&gt; arrayList2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Student&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;里斯&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;王五&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        arrayList2.add(s1);</span><br><span class="line">        arrayList2.add(s2);</span><br><span class="line">        arrayList2.add(s3);</span><br><span class="line">        Iterator&lt;Student&gt; it = arrayList2.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            <span class="type">Student</span> <span class="variable">next</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 学生类</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> wb</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> String age;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span>&#123;</span><br><span class="line">       <span class="built_in">this</span>.name = name;</span><br><span class="line">       <span class="built_in">this</span>.age = age;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">       <span class="built_in">this</span>.name =name;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> Stirng <span class="title function_">getName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JavaSE</tag>
      </tags>
  </entry>
  <entry>
    <title>爱和勇气</title>
    <url>/2023/06/02/%E7%88%B1%E5%92%8C%E5%8B%87%E6%B0%94/</url>
    <content><![CDATA[<p>我认识的一个人，就是一个无比理性的人。</p>
<p>越是亲密关系，他就越心口不一，他的心是感性的，脑子却是理性的。</p>
<p>无论是亲情还是爱情，好像没什么可以真正伤害到他。</p>
<p>他好像没有心一样，但矛盾的是，他比谁都在乎这些感情。</p>
<p>他永远在倾听别人，自己却不敢讲的太多。</p>
<p>你觉得他冷漠孤傲，其实是带有自卑的理性。</p>
<p>所以他不会有那种“因为爱所以爱”的浪漫情节。</p>
<p>但会有“因为爱所以放弃”的悲惨结局。</p>
<p>他只有清楚的看到对方的坚定，才敢于让内心的感性来支配自己。</p>
<p>这是一种由内而外的爱和勇气。</p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>情感</tag>
      </tags>
  </entry>
  <entry>
    <title>软件开发者应该具备的基本提问素质</title>
    <url>/2023/05/26/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E8%80%85%E5%BA%94%E8%AF%A5%E5%85%B7%E5%A4%87%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8F%90%E9%97%AE%E7%B4%A0%E8%B4%A8/</url>
    <content><![CDATA[<h2 id="提问的基本注意事项"><a href="#提问的基本注意事项" class="headerlink" title="提问的基本注意事项"></a>提问的基本注意事项</h2><p>说明你的问题，详细说明，并且说明你是怎么做的，尝试过哪些解决方案，搜寻过哪些东西，然后为什么没有解决，发现了什么问题，你输入了什么命令，你在终端里，能否复制完整的终端 log，这样才好定义问题所在。</p>
<p>否则，一个问题导致的可能性实在是太多了，如果给的信息只有几个字，那我只有用经验去尝试，但是你知道，这样的效率往往是最低的。</p>
<p>在提问问题之前，一定要明白自己做了什么，自己尝试了什么， 自己截图截下来，然后网上搜索了什么，还是没有解决或者是产生了什么新的问题，自己用的到底是什么版本，软件版本，系统版本，产生问题软件的版本（系统和软件信息）…这些东西描述清楚，并且伴随截图，一条信息发送给别人，这样别人才好定位问题。</p>
]]></content>
      <categories>
        <category>思考</category>
      </categories>
      <tags>
        <tag>程序人生</tag>
      </tags>
  </entry>
  <entry>
    <title>远征、流浪</title>
    <url>/2023/05/10/%E8%BF%9C%E5%BE%81%E3%80%81%E6%B5%81%E6%B5%AA/</url>
    <content><![CDATA[<p><strong>远征、流浪，远离家乡，脱离你的依赖环境</strong></p>
<p><strong>远离家乡，才能远征。</strong></p>
]]></content>
      <categories>
        <category>随笔记录</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
</search>
